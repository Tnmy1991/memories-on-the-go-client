import{$ as f,$a as _t,A as P,Aa as kn,B as Fe,Ba as jn,C as S,Ca as Un,D as ve,Da as m,E as K,Ea as mt,F as Re,Fa as gt,G as An,Ga as yt,H as In,Ha as O,I as Tn,Ia as ee,J as xn,Ja as Ln,K as $t,Ka as Gn,L as $,La as Bn,M as z,Ma as $n,N as Sn,Na as zn,O as zt,Oa as Zt,P as Wt,Pa as Wn,Q as On,Qa as qn,R as ke,Ra as Be,S as Vn,Sa as re,T as qt,Ta as Hn,U as Pn,Ua as Me,V as _e,Va as Jn,W as Nn,Wa as Xn,X as Ht,Xa as k,Y as lt,Ya as vt,Z as je,Za as Yn,_ as p,_a as Zn,a as b,aa as Fn,ab as Ct,b as B,ba as Rn,ca as ct,d as ge,da as Jt,e as Bt,ea as Xt,f as j,fa as Q,g as _n,ga as Ce,h as ot,ha as be,i as L,ia as T,j as F,ja as w,k as Ne,ka as Yt,l as Cn,la as x,m as st,ma as Ue,n as bn,na as Le,o as ie,oa as Ge,p as wn,pa as l,q as En,qa as c,r as Dn,ra as C,s as Mn,sa as dt,t as G,ta as ut,u as q,ua as H,v as at,va as D,w as g,wa as R,x as ye,xa as ht,y as A,ya as pt,z as h,za as ft}from"./chunk-WCG2NXTE.js";var ze=class{},le=class{},J=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let t=n.indexOf(":");if(t>0){let r=n.slice(0,t),o=r.toLowerCase(),s=n.slice(t+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,t)=>{this.setHeaderEntries(t,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,t])=>{this.setHeaderEntries(n,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new i;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...t),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let t=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Qt=class{encodeKey(e){return Kn(e)}encodeValue(e){return Kn(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cr(i,e){let n=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var dr=/%(\d[a-f0-9])/gi,ur={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kn(i){return encodeURIComponent(i).replace(dr,(e,n)=>ur[n]??e)}function bt(i){return`${i}`}var se=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qt,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cr(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let t=e.fromObject[n],r=Array.isArray(t)?t.map(bt):[bt(t)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(t=>{let r=e[t];Array.isArray(r)?r.forEach(o=>{n.push({param:t,value:o,op:"a"})}):n.push({param:t,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(t=>n+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new i({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(bt(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],r=t.indexOf(bt(e.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var en=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hr(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qn(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function ei(i){return typeof Blob<"u"&&i instanceof Blob}function ti(i){return typeof FormData<"u"&&i instanceof FormData}function pr(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var $e=class i{constructor(e,n,t,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(hr(this.method)||r?(this.body=t!==void 0?t:null,o=r):o=t,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new J,this.context??=new en,!this.params)this.params=new se,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qn(this.body)||ei(this.body)||ti(this.body)||pr(this.body)?this.body:this.body instanceof se?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ti(this.body)?null:ei(this.body)?this.body.type||null:Qn(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof se?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,y=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((I,Z)=>I.set(Z,e.setHeaders[Z]),d)),e.setParams&&(y=Object.keys(e.setParams).reduce((I,Z)=>I.set(Z,e.setParams[Z]),y)),new i(n,t,s,{params:y,headers:d,context:E,reportProgress:u,responseType:r,withCredentials:a,transferCache:o})}},ae=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(ae||{}),We=class{constructor(e,n=200,t="OK"){this.headers=e.headers||new J,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},wt=class i extends We{constructor(e={}){super(e),this.type=ae.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qe=class i extends We{constructor(e={}){super(e),this.type=ae.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},oe=class extends We{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},oi=200,fr=204;function Kt(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var we=(()=>{let e=class e{constructor(t){this.handler=t}request(t,r,o={}){let s;if(t instanceof $e)s=t;else{let d;o.headers instanceof J?d=o.headers:d=new J(o.headers);let y;o.params&&(o.params instanceof se?y=o.params:y=new se({fromObject:o.params})),s=new $e(t,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:y,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=L(s).pipe(wn(d=>this.handler.handle(d)));if(t instanceof $e||o.observe==="events")return a;let u=a.pipe(bn(d=>d instanceof qe));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(F(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(F(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(F(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return u.pipe(F(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new se().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Kt(o,r))}post(t,r,o={}){return this.request("POST",t,Kt(o,r))}put(t,r,o={}){return this.request("PUT",t,Kt(o,r))}};e.\u0275fac=function(r){return new(r||e)(h(ze))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),mr=/^\)\]\}',?\n/,gr="X-Request-URL";function ni(i){if(i.url)return i.url;let e=gr.toLocaleLowerCase();return i.headers.get(e)}var yr=(()=>{let e=class e{constructor(){this.fetchImpl=P(tn,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=P(Q)}handle(t){return new Bt(r=>{let o=new AbortController;return this.doRequest(t,o.signal,r).then(nn,s=>r.error(new oe({error:s}))),()=>o.abort()})}doRequest(t,r,o){return ge(this,null,function*(){let s=this.createRequestInit(t),a;try{let U=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,b({signal:r},s)));vr(U),o.next({type:ae.Sent}),a=yield U}catch(U){o.error(new oe({error:U,status:U.status??0,statusText:U.statusText,url:t.urlWithParams,headers:U.headers}));return}let u=new J(a.headers),d=a.statusText,y=ni(a)??t.urlWithParams,E=a.status,I=null;if(t.reportProgress&&o.next(new wt({headers:u,status:E,statusText:d,url:y})),a.body){let U=a.headers.get("content-length"),Oe=[],v=a.body.getReader(),_=0,ne,De,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ge(this,null,function*(){for(;;){let{done:me,value:Pe}=yield v.read();if(me)break;if(Oe.push(Pe),_+=Pe.length,t.reportProgress){De=t.responseType==="text"?(De??"")+(ne??=new TextDecoder).decode(Pe,{stream:!0}):void 0;let vn=()=>o.next({type:ae.DownloadProgress,total:U?+U:void 0,loaded:_,partialText:De});V?V.run(vn):vn()}}}));let Ve=this.concatChunks(Oe,_);try{let me=a.headers.get("Content-Type")??"";I=this.parseBody(t,Ve,me)}catch(me){o.error(new oe({error:me,headers:new J(a.headers),status:a.status,statusText:a.statusText,url:ni(a)??t.urlWithParams}));return}}E===0&&(E=I?oi:0),E>=200&&E<300?(o.next(new qe({body:I,headers:u,status:E,statusText:d,url:y})),o.complete()):o.error(new oe({error:I,headers:u,status:E,statusText:d,url:y}))})}parseBody(t,r,o){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(mr,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((s,a)=>r[s]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:o}}concatChunks(t,r){let o=new Uint8Array(r),s=0;for(let a of t)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),tn=class{};function nn(){}function vr(i){i.then(nn,nn)}function _r(i,e){return e(i)}function Cr(i,e,n){return(t,r)=>xn(n,()=>e(t,o=>i(o,r)))}var si=new A(""),rn=new A(""),br=new A(""),wr=new A("",{providedIn:"root",factory:()=>!0});var ii=(()=>{let e=class e extends ze{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=P(On),this.contributeToStability=P(wr)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(rn),...this.injector.get(br,[])]));this.chain=r.reduceRight((o,s)=>Cr(o,s,this.injector),_r)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(En(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(h(le),h(Tn))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})();var Er=/^\)\]\}',?\n/;function Dr(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var ri=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ot(r.\u0275loadImpl()):L(null)).pipe(Mn(()=>new Bt(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((v,_)=>a.setRequestHeader(v,_.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let v=t.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(t.responseType){let v=t.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let u=t.serializeBody(),d=null,y=()=>{if(d!==null)return d;let v=a.statusText||"OK",_=new J(a.getAllResponseHeaders()),ne=Dr(a)||t.url;return d=new wt({headers:_,status:a.status,statusText:v,url:ne}),d},E=()=>{let{headers:v,status:_,statusText:ne,url:De}=y(),V=null;_!==fr&&(V=typeof a.response>"u"?a.responseText:a.response),_===0&&(_=V?oi:0);let Ve=_>=200&&_<300;if(t.responseType==="json"&&typeof V=="string"){let me=V;V=V.replace(Er,"");try{V=V!==""?JSON.parse(V):null}catch(Pe){V=me,Ve&&(Ve=!1,V={error:Pe,text:V})}}Ve?(s.next(new qe({body:V,headers:v,status:_,statusText:ne,url:De||void 0})),s.complete()):s.error(new oe({error:V,headers:v,status:_,statusText:ne,url:De||void 0}))},I=v=>{let{url:_}=y(),ne=new oe({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});s.error(ne)},Z=!1,U=v=>{Z||(s.next(y()),Z=!0);let _={type:ae.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),t.responseType==="text"&&a.responseText&&(_.partialText=a.responseText),s.next(_)},Oe=v=>{let _={type:ae.UploadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),s.next(_)};return a.addEventListener("load",E),a.addEventListener("error",I),a.addEventListener("timeout",I),a.addEventListener("abort",I),t.reportProgress&&(a.addEventListener("progress",U),u!==null&&a.upload&&a.upload.addEventListener("progress",Oe)),a.send(u),s.next({type:ae.Sent}),()=>{a.removeEventListener("error",I),a.removeEventListener("abort",I),a.removeEventListener("load",E),a.removeEventListener("timeout",I),t.reportProgress&&(a.removeEventListener("progress",U),u!==null&&a.upload&&a.upload.removeEventListener("progress",Oe)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(h(Ct))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),ai=new A(""),Mr="XSRF-TOKEN",Ar=new A("",{providedIn:"root",factory:()=>Mr}),Ir="X-XSRF-TOKEN",Tr=new A("",{providedIn:"root",factory:()=>Ir}),Et=class{},xr=(()=>{let e=class e{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vt(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(h(k),h(_e),h(Ar))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})();function Sr(i,e){let n=i.url.toLowerCase();if(!P(ai)||i.method==="GET"||i.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(i);let t=P(Et).getToken(),r=P(Tr);return t!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,t)})),e(i)}var li=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(li||{});function Or(i,e){return{\u0275kind:i,\u0275providers:e}}function ci(...i){let e=[we,ri,ii,{provide:ze,useExisting:ii},{provide:le,useFactory:()=>P(yr,{optional:!0})??P(ri)},{provide:rn,useValue:Sr,multi:!0},{provide:ai,useValue:!0},{provide:Et,useClass:xr}];for(let n of i)e.push(...n.\u0275providers);return Re(e)}function di(i){return Or(li.Interceptors,i.map(e=>({provide:rn,useValue:e,multi:!0})))}var an=class extends Xn{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ln=class i extends an{static makeCurrent(){Jn(new i)}onAndCancel(e,n,t){return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Nr();return n==null?null:Fr(n)}resetBaseElement(){He=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vt(document.cookie,e)}},He=null;function Nr(){return He=He||document.querySelector("base"),He?He.getAttribute("href"):null}function Fr(i){return new URL(i,document.baseURI).pathname}var Rr=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),Dt=new A(""),fi=(()=>{let e=class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}};e.\u0275fac=function(r){return new(r||e)(h(Dt),h(Q))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),Je=class{constructor(e){this._doc=e}},on="ng-app-id",mi=(()=>{let e=class e{constructor(t,r,o,s={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_t(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${on}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){let o=this.styleRef;if(o.has(t)){let s=o.get(t);return s.usage+=r,s.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===t)return o.delete(r),s.removeAttribute(on),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(on,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let o=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(h(k),h(qt),h(Ht,8),h(_e))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dn=/%COMP%/g,gi="%COMP%",kr=`_nghost-${gi}`,jr=`_ngcontent-${gi}`,Ur=!0,Lr=new A("",{providedIn:"root",factory:()=>Ur});function Gr(i){return jr.replace(dn,i)}function Br(i){return kr.replace(dn,i)}function yi(i,e){return e.map(n=>n.replace(dn,i))}var Mt=(()=>{let e=class e{constructor(t,r,o,s,a,u,d,y=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=d,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=_t(u),this.defaultRenderer=new Xe(t,a,d,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fe.ShadowDom&&(r=B(b({},r),{encapsulation:Fe.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof At?o.applyToHost(t):o instanceof Ye&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,u=this.ngZone,d=this.eventManager,y=this.sharedStylesHost,E=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(r.encapsulation){case Fe.Emulated:s=new At(d,y,r,this.appId,E,a,u,I);break;case Fe.ShadowDom:return new cn(d,y,t,r,a,u,this.nonce,I);default:s=new Ye(d,y,r,E,a,u,I);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(h(fi),h(mi),h(qt),h(Lr),h(k),h(_e),h(Q),h(Ht))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),Xe=class{constructor(e,n,t,r){this.eventManager=e,this.doc=n,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(sn[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hi(e)?e.content:e).appendChild(n)}insertBefore(e,n,t){e&&(hi(e)?e.content:e).insertBefore(n,t)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new q(-5104,!1);return n||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,t,r){if(r){n=r+":"+n;let o=sn[r];o?e.setAttributeNS(o,n,t):e.setAttribute(n,t)}else e.setAttribute(n,t)}removeAttribute(e,n,t){if(t){let r=sn[t];r?e.removeAttributeNS(r,n):e.removeAttribute(`${t}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,t,r){r&(je.DashCase|je.Important)?e.style.setProperty(n,t,r&je.Important?"important":""):e.style[n]=t}removeStyle(e,n,t){t&je.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,t){e!=null&&(e[n]=t)}setValue(e,n){e.nodeValue=n}listen(e,n,t){if(typeof e=="string"&&(e=Me().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(t))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function hi(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var cn=class extends Xe{constructor(e,n,t,r,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=yi(r.id,r.styles);for(let y of d){let E=document.createElement("style");a&&E.setAttribute("nonce",a),E.textContent=y,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,t){return super.insertBefore(this.nodeOrShadowRoot(e),n,t)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ye=class extends Xe{constructor(e,n,t,r,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=u?yi(u,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},At=class extends Ye{constructor(e,n,t,r,o,s,a,u){let d=r+"-"+t.id;super(e,n,t,o,s,a,u,d),this.contentAttr=Gr(d),this.hostAttr=Br(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let t=super.createElement(e,n);return super.setAttribute(t,this.contentAttr,""),t}},$r=(()=>{let e=class e extends Je{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(h(k))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),zr=(()=>{let e=class e extends Je{constructor(t){super(t),this.delegate=P(qn,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,o){return this.delegate.addEventListener(t,r,o)}removeEventListener(t,r,o){return this.delegate.removeEventListener(t,r,o)}};e.\u0275fac=function(r){return new(r||e)(h(k))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),pi=["alt","control","meta","shift"],Wr={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Hr=(()=>{let e=class e extends Je{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Me().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),pi.forEach(y=>{let E=r.indexOf(y);E>-1&&(r.splice(E,1),a+=y+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(t,r){let o=Wr[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(o=t.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),pi.forEach(a=>{if(a!==o){let u=qr[a];u(t)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(t,r,o){return s=>{e.matchEventFullKeyCode(s,t)&&o.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(r){return new(r||e)(h(k))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})();function vi(i,e){return Wn(b({rootComponent:i},Jr(e)))}function Jr(i){return{appProviders:[...Qr,...i?.providers??[]],platformProviders:Kr}}function Xr(){ln.makeCurrent()}function Yr(){return new zt}function Zr(){return Vn(document),document}var Kr=[{provide:_e,useValue:Zn},{provide:Pn,useValue:Xr,multi:!0},{provide:k,useFactory:Zr,deps:[]}];var Qr=[{provide:In,useValue:"root"},{provide:zt,useFactory:Yr,deps:[]},{provide:Dt,useClass:$r,multi:!0,deps:[k,Q,_e]},{provide:Dt,useClass:Hr,multi:!0,deps:[k]},{provide:Dt,useClass:zr,multi:!0},Mt,mi,fi,{provide:ct,useExisting:Mt},{provide:Ct,useClass:Rr,deps:[]},[]];var eo="@",to=(()=>{let e=class e{constructor(t,r,o,s,a){this.doc=t,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=P(Rn,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-EZ6HRAFP.js").then(r=>r)).catch(r=>{throw new q(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new un(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let u=a.createRenderer(t,r);s.use(u),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Fn()},e.\u0275prov=g({token:e,factory:e.\u0275fac});let i=e;return i})(),un=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,t,r){this.delegate.insertBefore(e,n,t,r)}removeChild(e,n,t){this.delegate.removeChild(e,n,t)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,t,r){this.delegate.setAttribute(e,n,t,r)}removeAttribute(e,n,t){this.delegate.removeAttribute(e,n,t)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,t,r){this.delegate.setStyle(e,n,t,r)}removeStyle(e,n,t){this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,t)),this.delegate.setProperty(e,n,t)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,t){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,t)),this.delegate.listen(e,n,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(eo)}};function _i(i="animations"){return Xt("NgAsyncAnimations"),Re([{provide:ct,useFactory:(e,n,t)=>new to(e,n,t,i),deps:[k,Mt,Q]},{provide:Nn,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var hn=new A("JWT_OPTIONS"),It=(()=>{class i{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:{t+="==";break}case 3:{t+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}b64decode(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,s,a,u=0;a=n.charAt(u++);~a&&(s=o%4?s*64+a:a,o++%4)?r+=String.fromCharCode(255&s>>(-2*o&6)):0)a=t.indexOf(a);return r}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(t=>this._decodeToken(t)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let t=n.split(".");if(t.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let r=this.urlBase64Decode(t[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(t=>this._getTokenExpirationDate(t)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let t;if(t=this.decodeToken(n),!t||!t.hasOwnProperty("exp"))return null;let r=new Date(0);return r.setUTCSeconds(t.exp),r}isTokenExpired(n=this.tokenGetter(),t){return n instanceof Promise?n.then(r=>this._isTokenExpired(r,t)):this._isTokenExpired(n,t)}_isTokenExpired(n,t){if(!n||n==="")return!0;let r=this.getTokenExpirationDate(n);return t=t||0,r===null?!1:!(r.valueOf()>new Date().valueOf()+t*1e3)}getAuthScheme(n,t){return typeof n=="function"?n(t):n}}return i.\u0275fac=function(n){return new(n||i)(h(hn))},i.\u0275prov=g({token:i,factory:i.\u0275fac}),i})(),Ci=i=>i instanceof Promise?Cn(()=>i):L(i),no=(()=>{class i{constructor(n,t,r){this.jwtHelper=t,this.document=r,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let t=new URL(n.url,this.document.location.origin);if(t.host===this.document.location.host)return!0;let r=`${t.hostname}${t.port&&!this.standardPorts.includes(t.port)?":"+t.port:""}`;return this.allowedDomains.findIndex(o=>typeof o=="string"?o===r:o instanceof RegExp?o.test(r):!1)>-1}isDisallowedRoute(n){let t=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(r=>{if(typeof r=="string"){let o=new URL(r,this.document.location.origin);return o.hostname===t.hostname&&o.pathname===t.pathname}return r instanceof RegExp?r.test(n.url):!1})>-1}handleInterception(n,t,r){let o=this.jwtHelper.getAuthScheme(this.authScheme,t);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let s=L(!1);return this.skipWhenExpired&&(s=n?Ci(this.jwtHelper.isTokenExpired(n)):L(!0)),n?s.pipe(F(a=>a&&this.skipWhenExpired?t.clone():t.clone({setHeaders:{[this.headerName]:`${o}${n}`}})),Ne(a=>r.handle(a))):r.handle(t)}intercept(n,t){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return t.handle(n);let r=this.tokenGetter(n);return Ci(r).pipe(Ne(o=>this.handleInterception(o,n,t)))}}return i.\u0275fac=function(n){return new(n||i)(h(hn),h(It),h(k))},i.\u0275prov=g({token:i,factory:i.\u0275fac}),i})(),bi=(()=>{class i{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:i,providers:[{provide:si,useClass:no,multi:!0},n.jwtOptionsProvider||{provide:hn,useValue:n.config},It]}}}return i.\u0275fac=function(n){return new(n||i)(h(i,12))},i.\u0275mod=ve({type:i}),i.\u0275inj=ye({}),i})();var Ae=(()=>{class i{static serviceArray;static initConfigService(){return ge(this,null,function*(){try{let n=yield fetch("https://dgj5ycb4c5gqdyx7hzzr3ebtli0frvcl.lambda-url.us-east-1.on.aws/");if(!n.ok)throw new Error(`Response status: ${n.status}`);let t=yield n.json();this.serviceArray={USER_ENDPOINT:t[1].Value,IMAGE_ENDPOINT:t[0].Value}}catch(n){console.error(n)}})}getConfigService(n){return i.serviceArray[n]}static \u0275fac=function(t){return new(t||i)};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Tt=(()=>{class i{_httpBackend;_configService;USER_ENDPOINT="";httpWithoutInterceptor;constructor(n,t){this._httpBackend=n,this._configService=t,this.USER_ENDPOINT=this._configService.getConfigService("USER_ENDPOINT"),this.httpWithoutInterceptor=new we(n)}performLookup(n){return this.httpWithoutInterceptor.post(`${this.USER_ENDPOINT}users/lookup`,n)}createAccount(n){return this.httpWithoutInterceptor.post(`${this.USER_ENDPOINT}users/create-account`,n)}login(n){return this.httpWithoutInterceptor.post(`${this.USER_ENDPOINT}users/login`,n)}static \u0275fac=function(t){return new(t||i)(h(le),h(Ae))};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xt=(()=>{class i{_configService;_httpBackend;_httpClient;IMAGE_ENDPOINT="";_httpWithoutInterceptor;_triggerImageRefresh=new _n(!1);observeTrigger=this._triggerImageRefresh.asObservable();constructor(n,t,r){this._configService=n,this._httpBackend=t,this._httpClient=r,this.IMAGE_ENDPOINT=this._configService.getConfigService("IMAGE_ENDPOINT"),this._httpWithoutInterceptor=new we(t)}initiateTrigger(n){this._triggerImageRefresh.next(n)}getAllImages(){return this._httpClient.get(`${this.IMAGE_ENDPOINT}images/listing`).pipe(F(n=>n?.images))}getSignedUrl(n){return this._httpClient.post(`${this.IMAGE_ENDPOINT}images/upload`,{image:n})}getS3Object(n){return this._httpClient.post(`${this.IMAGE_ENDPOINT}images/s3-presigned`,n)}putS3Object(n,t){let r=new J({"Content-Type":t.type});return this._httpWithoutInterceptor.put(n,t,{headers:r,reportProgress:!0})}static \u0275fac=function(t){return new(t||i)(h(Ae),h(le),h(we))};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var X=(()=>{class i{_jwtHelper;KEY="bearer_token";constructor(n){this._jwtHelper=n}setBearerToken(n){sessionStorage.setItem(this.KEY,n)}getBearerToken(){return sessionStorage.getItem(this.KEY)??""}getDecodedToken(){let n=sessionStorage.getItem(this.KEY)??"";return this._jwtHelper.decodeToken(n)??{name:"",user_id:""}}isAuthenticated(){let n=sessionStorage.getItem(this.KEY);return L(!this._jwtHelper.isTokenExpired(n))}logout(){try{return sessionStorage.removeItem(this.KEY),L(!0)}catch(n){return console.error(n),L(!1)}}getIdentity(){return this.getDecodedToken().user_id}getName(){return this.getDecodedToken().name}static \u0275fac=function(t){return new(t||i)(h(It))};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ei(i,e){let n=P(X).getBearerToken(),t=i.clone({setHeaders:{Authorization:`Bearer ${n}`}});return e(t)}function ro(){return sessionStorage.getItem("bearer_token")??""}function oo(){return()=>Ae.initConfigService()}var Di={providers:[zn({eventCoalescing:!0}),_i(),ci(di([Ei])),An(bi.forRoot({config:{tokenGetter:ro}})),{provide:$n,useFactory:oo,multi:!0}]};var Vi=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(f(Jt),f(Wt))},e.\u0275dir=K({type:e});let i=e;return i})(),so=(()=>{let e=class e extends Vi{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Sn(e)))(o||e)}})(),e.\u0275dir=K({type:e,features:[be]});let i=e;return i})(),Pi=new A("");var ao={provide:Pi,useExisting:at(()=>he),multi:!0};function lo(){let i=Me()?Me().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var co=new A(""),he=(()=>{let e=class e extends Vi{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lo())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(f(Jt),f(Wt),f(co,8))},e.\u0275dir=K({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&D("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[yt([ao]),be]});let i=e;return i})();function ce(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Ni(i){return i!=null&&typeof i.length=="number"}var Fi=new A(""),Ri=new A(""),uo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,M=class{static min(e){return ho(e)}static max(e){return po(e)}static required(e){return fo(e)}static requiredTrue(e){return mo(e)}static email(e){return go(e)}static minLength(e){return yo(e)}static maxLength(e){return vo(e)}static pattern(e){return _o(e)}static nullValidator(e){return ki(e)}static compose(e){return $i(e)}static composeAsync(e){return Wi(e)}};function ho(i){return e=>{if(ce(e.value)||ce(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function po(i){return e=>{if(ce(e.value)||ce(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function fo(i){return ce(i.value)?{required:!0}:null}function mo(i){return i.value===!0?null:{required:!0}}function go(i){return ce(i.value)||uo.test(i.value)?null:{email:!0}}function yo(i){return e=>ce(e.value)||!Ni(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function vo(i){return e=>Ni(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function _o(i){if(!i)return ki;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(ce(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function ki(i){return null}function ji(i){return i!=null}function Ui(i){return Bn(i)?ot(i):i}function Li(i){let e={};return i.forEach(n=>{e=n!=null?b(b({},e),n):e}),Object.keys(e).length===0?null:e}function Gi(i,e){return e.map(n=>n(i))}function Co(i){return!i.validate}function Bi(i){return i.map(e=>Co(e)?e:n=>e.validate(n))}function $i(i){if(!i)return null;let e=i.filter(ji);return e.length==0?null:function(n){return Li(Gi(n,e))}}function zi(i){return i!=null?$i(Bi(i)):null}function Wi(i){if(!i)return null;let e=i.filter(ji);return e.length==0?null:function(n){let t=Gi(n,e).map(Ui);return st(t).pipe(F(Li))}}function qi(i){return i!=null?Wi(Bi(i)):null}function Mi(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Hi(i){return i._rawValidators}function Ji(i){return i._rawAsyncValidators}function pn(i){return i?Array.isArray(i)?i:[i]:[]}function Ot(i,e){return Array.isArray(i)?i.includes(e):i===e}function Ai(i,e){let n=pn(e);return pn(i).forEach(r=>{Ot(n,r)||n.push(r)}),n}function Ii(i,e){return pn(e).filter(n=>!Ot(i,n))}var Vt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Y=class extends Vt{get formDirective(){return null}get path(){return null}},tt=class extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bo={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cl=B(b({},bo),{"[class.ng-submitted]":"isSubmitted"}),Se=(()=>{let e=class e extends Pt{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(f(tt,2))},e.\u0275dir=K({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Yt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[be]});let i=e;return i})(),pe=(()=>{let e=class e extends Pt{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(f(Y,10))},e.\u0275dir=K({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Yt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[be]});let i=e;return i})();var Ze="VALID",St="INVALID",Te="PENDING",Ke="DISABLED",de=class{},Nt=class extends de{constructor(e,n){super(),this.value=e,this.source=n}},Qe=class extends de{constructor(e,n){super(),this.pristine=e,this.source=n}},et=class extends de{constructor(e,n){super(),this.touched=e,this.source=n}},xe=class extends de{constructor(e,n){super(),this.status=e,this.source=n}},fn=class extends de{constructor(e){super(),this.source=e}},mn=class extends de{constructor(e){super(),this.source=e}};function Xi(i){return(jt(i)?i.validators:i)||null}function wo(i){return Array.isArray(i)?zi(i):i||null}function Yi(i,e){return(jt(e)?e.asyncValidators:i)||null}function Eo(i){return Array.isArray(i)?qi(i):i||null}function jt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Do(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new q(1e3,"");if(!t[n])throw new q(1001,"")}function Mo(i,e,n){i._forEachChild((t,r)=>{if(n[r]===void 0)throw new q(1002,"")})}var Ft=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Be(()=>this.statusReactive()),this.statusReactive=Ce(void 0),this._pristine=Be(()=>this.pristineReactive()),this.pristineReactive=Ce(!0),this._touched=Be(()=>this.touchedReactive()),this.touchedReactive=Ce(!1),this._events=new j,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return re(this.statusReactive)}set status(e){re(()=>this.statusReactive.set(e))}get valid(){return this.status===Ze}get invalid(){return this.status===St}get pending(){return this.status==Te}get disabled(){return this.status===Ke}get enabled(){return this.status!==Ke}get pristine(){return re(this.pristineReactive)}set pristine(e){re(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return re(this.touchedReactive)}set touched(e){re(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ai(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ai(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ii(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ii(e,this._rawAsyncValidators))}hasValidator(e){return Ot(this._rawValidators,e)}hasAsyncValidator(e){return Ot(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(b({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new et(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),n&&e.emitEvent!==!1&&this._events.next(new et(!1,t))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(b({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new Qe(!1,t))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&e.emitEvent!==!1&&this._events.next(new Qe(!0,t))}markAsPending(e={}){this.status=Te;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xe(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(b({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ke,this.errors=null,this._forEachChild(r=>{r.disable(B(b({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nt(this.value,t)),this._events.next(new xe(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ze,this._forEachChild(t=>{t.enable(B(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ze||this.status===Te)&&this._runAsyncValidator(t,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nt(this.value,n)),this._events.next(new xe(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(b({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ke:Ze}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Te,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let t=Ui(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,r)=>t&&t._find(r),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new xe(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,t)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Ke:this.errors?St:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Te)?Te:this._anyControlsHaveStatus(St)?St:Ze}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Qe(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new et(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wo(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Eo(this._rawAsyncValidators)}},ue=class extends Ft{constructor(e,n,t){super(Xi(n),Yi(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Mo(this,!0,e),Object.keys(e).forEach(t=>{Do(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((r,o)=>{t=n(t,r,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Zi=new A("CallSetDisabledState",{providedIn:"root",factory:()=>gn}),gn="always";function Ao(i,e){return[...e.path,i]}function Ti(i,e,n=gn){yn(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),To(i,e),So(i,e),xo(i,e),Io(i,e)}function xi(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),kt(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Rt(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Io(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function yn(i,e){let n=Hi(i);e.validator!==null?i.setValidators(Mi(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=Ji(i);e.asyncValidator!==null?i.setAsyncValidators(Mi(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let r=()=>i.updateValueAndValidity();Rt(e._rawValidators,r),Rt(e._rawAsyncValidators,r)}function kt(i,e){let n=!1;if(i!==null){if(e.validator!==null){let r=Hi(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let r=Ji(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,i.setAsyncValidators(o))}}}let t=()=>{};return Rt(e._rawValidators,t),Rt(e._rawAsyncValidators,t),n}function To(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Ki(i,e)})}function xo(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Ki(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Ki(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function So(i,e){let n=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function Oo(i,e){i==null,yn(i,e)}function Vo(i,e){return kt(i,e)}function Po(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function No(i){return Object.getPrototypeOf(i.constructor)===so}function Fo(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ro(i,e){if(!e)return null;Array.isArray(e);let n,t,r;return e.forEach(o=>{o.constructor===he?n=o:No(o)?t=o:r=o}),r||t||n||null}function ko(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Si(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Oi(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var W=class extends Ft{constructor(e=null,n,t){super(Xi(n),Yi(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jt(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Oi(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Si(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Si(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Oi(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jo=i=>i instanceof W;var Ut=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=K({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var Qi=new A("");var Uo={provide:Y,useExisting:at(()=>te)},te=(()=>{let e=class e extends Y{get submitted(){return re(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=Be(()=>this._submittedReactive()),this._submittedReactive=Ce(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ke,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Ti(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xi(t.control||null,t,!1),ko(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Fo(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new fn(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new mn(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(xi(r||null,t),jo(o)&&(Ti(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Oo(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Vo(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yn(this.form,this),this._oldForm&&kt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(f(Fi,10),f(Ri,10),f(Zi,8))},e.\u0275dir=K({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&D("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yt([Uo]),be,$t]});let i=e;return i})();var Lo={provide:tt,useExisting:at(()=>Ee)},Ee=(()=>{let e=class e extends tt{set isDisabled(t){}constructor(t,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ke,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ro(this,s)}ngOnChanges(t){this._added||this._setUpControl(),Po(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ao(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(f(Y,13),f(Fi,10),f(Ri,10),f(Pi,10),f(Qi,8))},e.\u0275dir=K({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[yt([Lo]),be,$t]});let i=e;return i})();var Go=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ye({});let i=e;return i})();var fe=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Qi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Zi,useValue:t.callSetDisabledState??gn}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ye({imports:[Go]});let i=e;return i})();var Bo=["*"];function $o(i,e){i&1&&(l(0,"em"),m(1,"*"),c())}function zo(i,e){if(i&1&&(l(0,"label",1),T(1,$o,2,0,"em"),m(2),c()),i&2){let n=R();ft("for",n.fieldName),p(),x(n.isRequired?1:-1),p(),gt(" ",n.label," ")}}function Wo(i,e){if(i&1&&(l(0,"div",3)(1,"p",4),m(2),Ln(3,"async"),c()()),i&2){let n=R();p(2),mt(Gn(3,1,n.error$))}}var Lt=(()=>{class i{_cd;_controlContainer;label="";fieldName="";isRequired=!1;errors;error$;_formGroup;_formControl;constructor(n,t){this._cd=n,this._controlContainer=t}ngAfterViewInit(){this._controlContainer&&this.fieldName&&(this._formGroup=this._controlContainer?.control,this._formControl=this._formGroup.controls[this.fieldName],this._formControl&&(this.error$=this._formControl?.statusChanges.pipe(Dn(this._formControl.status),Ne((n,t)=>{let r="";return this.errors&&Object.keys(this.errors).forEach(o=>{this._formControl.errors&&this._formControl.errors[o]&&(r=this.errors[o])}),L(r)})))),this._cd.detectChanges()}get showError(){return this._formControl?this._formControl.touched||this._formControl.dirty:!0}static \u0275fac=function(t){return new(t||i)(f(Zt),f(Y,8))};static \u0275cmp=S({type:i,selectors:[["app-extended-field"]],inputs:{label:"label",fieldName:"fieldName",isRequired:"isRequired",errors:"errors"},standalone:!0,features:[O],ngContentSelectors:Bo,decls:5,vars:2,consts:[[1,"extended-field"],[3,"for"],[1,"field-wrapper"],[1,"error-wrapper"],[1,"p2"]],template:function(t,r){t&1&&(ht(),l(0,"div",0),T(1,zo,3,3,"label",1),l(2,"div",2),pt(3),c(),T(4,Wo,4,3,"div",3),c()),t&2&&(p(),x(r.label?1:-1),p(3),x(r.showError?4:-1))},dependencies:[Yn],styles:[".extended-field[_ngcontent-%COMP%]{min-height:50px;margin-bottom:4px}.extended-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#676262;font-size:12px;font-weight:500;line-height:16px}.extended-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#e10000;font-weight:700}.extended-field[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .p2[_ngcontent-%COMP%]{color:#e10000;font-weight:500}"]})}return i})();var qo=()=>({required:"Username is required",invalidData:"Invalid Username provided.",minlength:"Username at least 6 character long."}),Ho=()=>({required:"Password is required",invalidData:"Invalid Password provided.",minlength:"Password at least 6 character long."});function Jo(i,e){i&1&&(l(0,"span"),m(1,"Logging In"),c())}function Xo(i,e){i&1&&(l(0,"span"),m(1,"Log In"),c())}var er=(()=>{class i{_userService;_authorizeService;isLogging=!1;loginForm;unsubscribe$=new j;constructor(n,t){this._userService=n,this._authorizeService=t}ngOnInit(){this.loginForm=new ue({username:new W("",[M.required,M.minLength(6)]),password:new W("",[M.required,M.minLength(6)])})}requestLogin(){this.loginForm.valid&&(this.isLogging=!0,this._userService.login(this.loginForm.value).pipe(G(this.unsubscribe$),ie(n=>{throw this.loginForm.get(n.error.field)?.setErrors({invalidData:!0}),this.isLogging=!1,n})).subscribe(n=>{this._authorizeService.setBearerToken(n.access_token),location.reload()}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(Tt),f(X))};static \u0275cmp=S({type:i,selectors:[["app-login"]],standalone:!0,features:[O],decls:11,vars:7,consts:[[3,"formGroup"],[1,"login-container"],[1,"title"],["fieldName","username",3,"errors"],["type","text","formControlName","username","placeholder","Username",1,"form-control"],["fieldName","password",3,"errors"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"button","space-mid",3,"click","disabled"]],template:function(t,r){t&1&&(l(0,"form",0)(1,"div",1)(2,"h1",2),m(3,"Log In"),c(),l(4,"app-extended-field",3),C(5,"input",4),c(),l(6,"app-extended-field",5),C(7,"input",6),c(),l(8,"button",7),D("click",function(){return r.requestLogin()}),T(9,Jo,2,0,"span")(10,Xo,2,0,"span"),c()()()),t&2&&(w("formGroup",r.loginForm),p(4),w("errors",ee(5,qo)),p(2),w("errors",ee(6,Ho)),p(2),w("disabled",r.loginForm.invalid||r.isLogging),p(),x(r.isLogging?9:10))},dependencies:[fe,Ut,he,Se,pe,te,Ee,Lt],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.login-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:35px;margin:0 auto}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:306px}"]})}return i})();var tr=(()=>{class i{image;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-image-viewer"]],inputs:{image:"image"},standalone:!0,features:[O],decls:1,vars:2,consts:[["loading","lazy",1,"thumbnail",3,"src","alt"]],template:function(t,r){t&1&&C(0,"img",0),t&2&&w("src",r.image.thumbnail_image,lt)("alt",r.image.s3_key)},styles:[".thumbnail[_ngcontent-%COMP%]{height:172px;cursor:pointer;border-radius:5px;aspect-ratio:auto;transition:.5s ease;box-shadow:0 0 25px #000000cf}"]})}return i})();var Yo=["*"],Gt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-dialog-box"]],standalone:!0,features:[O],ngContentSelectors:Yo,decls:2,vars:0,consts:[[1,"card"]],template:function(t,r){t&1&&(ht(),l(0,"div",0),pt(1),c())},styles:[".card[_ngcontent-%COMP%]{top:10%;height:620px;width:480px;z-index:10;margin:0 auto;background:#fff;position:relative;border-radius:10px;box-shadow:#0202024f 0 1px 14px}"]})}return i})();function Zo(i,e){if(i&1){let n=H();l(0,"li",3),D("click",function(){let r=$(n).$implicit,o=R(2);return z(o.imageViewer(r))}),C(1,"app-image-viewer",4),c()}if(i&2){let n=e.$implicit;p(),w("image",n)}}function Ko(i,e){if(i&1&&(l(0,"p",1),m(1),c(),l(2,"ul",2),Le(3,Zo,2,1,"li",null,Ue),c()),i&2){let n=e.$implicit;p(),mt(n.create_year),p(2),Ge(n.images)}}function Qo(i,e){if(i&1){let n=H();l(0,"div",7)(1,"span",10),D("click",function(){$(n);let r=R(2);return z(r.switchImage("PREV"))}),m(2," arrow_back_ios "),c()()}}function es(i,e){if(i&1){let n=H();l(0,"div",9)(1,"span",10),D("click",function(){$(n);let r=R(2);return z(r.switchImage("NEXT"))}),m(2," arrow_forward_ios "),c()()}}function ts(i,e){if(i&1){let n=H();l(0,"app-dialog-box")(1,"div",5)(2,"span",6),D("click",function(){$(n);let r=R();return z(r.closeViewer())}),m(3," arrow_back "),c(),T(4,Qo,3,0,"div",7),C(5,"img",8),T(6,es,3,0,"div",9),c()()}if(i&2){let n=R();p(4),x(n.prevImageIndex>-1?4:-1),p(),w("src",n.viewerObject.original_image,lt)("alt",n.viewerObject.s3_key),p(),x(n.nextImageIndex>-1?6:-1)}}var nr=(()=>{class i{_imageService;nextImageIndex;prevImageIndex;viewerObject;isImageViewerActive=!1;imagesGroupArray=[];_refreshTrigger=!1;_imagesArray=[];unsubscribe$=new j;constructor(n){this._imageService=n}ngOnInit(){this._getAllUploadedImages(),this._imageService.observeTrigger.pipe(G(this.unsubscribe$)).subscribe(n=>{this._refreshTrigger=n,n&&this._getAllUploadedImages()})}imageViewer(n){if(this._imagesArray.length){let t=this._imagesArray.findIndex(r=>r.image_id===n.image_id);t===0?(this.nextImageIndex=t+1,this.prevImageIndex=-1):t===this._imagesArray.length-1?(this.nextImageIndex=-1,this.prevImageIndex=t-1):(this.nextImageIndex=t+1,this.prevImageIndex=t-1),this.viewerObject=b({},n),this.isImageViewerActive=!0}}switchImage(n){switch(n){case"PREV":this.viewerObject=b({},this._imagesArray[this.prevImageIndex]),this.prevImageIndex=this.prevImageIndex===0?-1:this.prevImageIndex-1,this.nextImageIndex=this.prevImageIndex+2;break;case"NEXT":this.viewerObject=b({},this._imagesArray[this.nextImageIndex]),this.nextImageIndex=this.nextImageIndex<this._imagesArray.length-1?this.nextImageIndex+1:-1,this.prevImageIndex=this.nextImageIndex===-1?this._imagesArray.length-2:this.nextImageIndex-2;break}}closeViewer(){this.isImageViewerActive=!1}_getAllUploadedImages(){this._imageService.getAllImages().pipe(G(this.unsubscribe$),ie(n=>{throw this._imagesArray=[],this.imagesGroupArray=[],n})).subscribe(n=>{this._getS3PresignedUrls(n)})}_getS3PresignedUrls(n){this._refreshTrigger&&(n=[...n.filter(({image_id:o})=>!this._imagesArray.some(({image_id:s})=>o===s))]);let t=n.map(r=>this._imageService.getS3Object({s3_key:r.s3_key,s3_key_thumbnail:r.s3_key_thumbnail}).pipe(F(o=>b(b({},r),o))));st(t).subscribe(r=>{this._imagesArray=this._refreshTrigger?[...this._imagesArray,...r]:[...r],this._groupByCreatedYear(),this._imageService.initiateTrigger(!1)})}_groupByCreatedYear(){let n={};for(let t of this._imagesArray){let r=new Date(t.created_at).getFullYear().toString();n[r]?n[r].images.push(t):n[r]={create_year:r,images:[t]}}this.imagesGroupArray=Object.values(n)}static \u0275fac=function(t){return new(t||i)(f(xt))};static \u0275cmp=S({type:i,selectors:[["app-gallery"]],standalone:!0,features:[O],decls:4,vars:1,consts:[[1,"image-container","custom-scrollbar"],[1,"liner"],[1,"thumbnail-list"],[3,"click"],[3,"image"],[1,"viewer-container"],[1,"back","material-symbols-outlined",3,"click"],[1,"prev-button-wrapper"],[1,"fullSize",3,"src","alt"],[1,"next-button-wrapper"],[1,"material-symbols-outlined",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0),Le(1,Ko,5,1,null,null,Ue),c(),T(3,ts,7,4,"app-dialog-box")),t&2&&(p(),Ge(r.imagesGroupArray),p(2),x(r.isImageViewerActive?3:-1))},dependencies:[tr,Gt],styles:['[_nghost-%COMP%]  .card{top:0!important;width:100%!important;height:100%!important}.image-container[_ngcontent-%COMP%]{height:calc(100vh - 18px);width:calc(100vw - 96px);padding:4px 8px 0;position:absolute;overflow:hidden;overflow-y:auto;left:80px}.image-container.custom-scrollbar[_ngcontent-%COMP%]{scrollbar-width:thin;transition:scrollbar-color .3s;scrollbar-color:transparent transparent}.image-container.custom-scrollbar[_ngcontent-%COMP%]:hover{scrollbar-color:#ababab transparent}.liner[_ngcontent-%COMP%]{display:flex;text-align:left;font-size:16px;font-weight:500;align-items:flex-start}.liner[_ngcontent-%COMP%]:after{content:"";flex-grow:1;height:1px;background:#c9c0bf;min-width:20px;margin:auto}.liner[_ngcontent-%COMP%]:after{margin-left:10px}.thumbnail-list[_ngcontent-%COMP%]{gap:12px;display:flex;flex-wrap:wrap;list-style:none;flex-direction:row;padding-inline-start:16px}.viewer-container[_ngcontent-%COMP%]{padding:8px;width:calc(100% - 16px);height:calc(100% - 16px)}.viewer-container[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{z-index:1;cursor:pointer;margin-left:65px;position:absolute}.viewer-container[_ngcontent-%COMP%]   .prev-button-wrapper[_ngcontent-%COMP%]{top:0;left:0;width:60px;height:100%;color:#fff;position:absolute;align-content:center;background:#000;border-radius:10px 0 0 10px;background:linear-gradient(90deg,#00000045,#fff 79%)}.viewer-container[_ngcontent-%COMP%]   .prev-button-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;margin-left:14px}.viewer-container[_ngcontent-%COMP%]   .next-button-wrapper[_ngcontent-%COMP%]{top:0;right:0;width:60px;height:100%;color:#fff;position:absolute;align-content:center;background:#000;border-radius:0 10px 10px;background:linear-gradient(270deg,#00000045,#fff 79%)}.viewer-container[_ngcontent-%COMP%]   .next-button-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;margin-left:28px}.viewer-container[_ngcontent-%COMP%]   .fullSize[_ngcontent-%COMP%]{width:98%;height:100%;object-fit:contain}']})}return i})();var it=class{static validateUsername(e){return n=>e.performLookup({key:"username",value:n.value.replace(/ /g,"")}).pipe(F(t=>t.lookupFlag?{usernameExists:!0}:null))}static validatePhonenumber(e){return n=>e.performLookup({key:"phone_number",value:n.value.replace(/ /g,"")}).pipe(F(t=>t.lookupFlag?{phonenumberExists:!0}:null))}};var rt=class{static validate(e,n){return t=>{if(t.parent&&n){let r=(t.parent?.controls)[e];return r&&r.updateValueAndValidity(),null}return t.parent&&t.parent.value&&t.value===(t.parent?.controls)[e].value?null:{PasswordNotMatch:!0}}}};var ns=()=>({required:"Full Name is required",minlength:"Username at least 6 character long."}),is=()=>({required:"Phone Number is required",phonenumberExists:"Phone Number already in use.",pattern:"Phone Number contain invalid character."}),rs=()=>({required:"Username is required",usernameExists:"Username already in use.",minlength:"Username at least 6 character long."}),os=()=>({required:"Password is required",minlength:"Password at least 6 character long.",pattern:"Only uppercase, lowercase and digits are allowed."}),ss=()=>({required:"Confirm Password is required",minlength:"Confirm Password at least 6 character long.",PasswordNotMatch:"Entered passowrd not matched."});function as(i,e){i&1&&(l(0,"span"),m(1,"Creating Account"),c())}function ls(i,e){i&1&&(l(0,"span"),m(1,"Create Account"),c())}var ir=(()=>{class i{_userService;_authorizeService;isReqesting=!1;createAccoutnForm;unsubscribe$=new j;StrongPasswordRegx=/^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\D*\d).{6,}$/;constructor(n,t){this._userService=n,this._authorizeService=t}ngOnInit(){this.createAccoutnForm=new ue({name:new W("",[M.required,M.minLength(6)]),phone_number:new W("",[M.required,M.minLength(11),M.pattern("^[0-9]{5}[ 0-9]{6}$")],[it.validatePhonenumber(this._userService)]),username:new W("",[M.required,M.minLength(6)],[it.validateUsername(this._userService)]),password:new W("",[M.required,M.minLength(6),M.pattern(this.StrongPasswordRegx),rt.validate("confirm_password",!0)]),confirm_password:new W("",[M.required,rt.validate("password")])})}createAccount(){this.createAccoutnForm.valid&&(this.isReqesting=!0,this._userService.createAccount(this.createAccoutnForm.value).pipe(G(this.unsubscribe$),ie(n=>{throw this.isReqesting=!1,n})).subscribe(n=>{this._authorizeService.setBearerToken(n.access_token),location.reload()}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(Tt),f(X))};static \u0275cmp=S({type:i,selectors:[["app-create-account"]],standalone:!0,features:[O],decls:18,vars:13,consts:[[3,"formGroup"],[1,"signup-container"],["width","124px","src","logo-compact.png","alt","Welcome! Memories On The Go",1,"logo"],[1,"title"],["fieldName","name",3,"errors"],["type","text","formControlName","name","placeholder","Full Name",1,"form-control"],["fieldName","phone_number",3,"errors"],["type","text","formControlName","phone_number","placeholder","Phone Number",1,"form-control"],["fieldName","username",3,"errors"],["type","text","autocomplete","new-username","formControlName","username","placeholder","Username",1,"form-control"],["fieldName","password",3,"errors"],["type","password","autocomplete","new-password","formControlName","password","placeholder","Password",1,"form-control"],["fieldName","confirm_password",3,"errors"],["type","password","formControlName","confirm_password","placeholder","Confirm Password",1,"form-control"],["type","submit",1,"button","space-mid",3,"click","disabled"]],template:function(t,r){t&1&&(l(0,"form",0)(1,"div",1),C(2,"img",2),l(3,"h1",3),m(4,"Create an Account"),c(),l(5,"app-extended-field",4),C(6,"input",5),c(),l(7,"app-extended-field",6),C(8,"input",7),c(),l(9,"app-extended-field",8),C(10,"input",9),c(),l(11,"app-extended-field",10),C(12,"input",11),c(),l(13,"app-extended-field",12),C(14,"input",13),c(),l(15,"button",14),D("click",function(){return r.createAccount()}),T(16,as,2,0,"span")(17,ls,2,0,"span"),c()()()),t&2&&(w("formGroup",r.createAccoutnForm),p(5),w("errors",ee(8,ns)),p(2),w("errors",ee(9,is)),p(2),w("errors",ee(10,rs)),p(2),w("errors",ee(11,os)),p(2),w("errors",ee(12,ss)),p(2),w("disabled",r.createAccoutnForm.invalid||r.isReqesting),p(),x(r.isReqesting?16:17))},dependencies:[fe,Ut,he,Se,pe,te,Ee,Lt],styles:[".banner{display:none}  .container{height:100%}.signup-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.signup-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:35px;margin:0 auto}.signup-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:306px}"]})}return i})();var cs=["fileUpload"];function ds(i,e){i&1&&(l(0,"span",6),m(1,"check_circle"),c())}function us(i,e){i&1&&(l(0,"span",7),m(1,"cancel"),c())}function hs(i,e){i&1&&(l(0,"span",8),m(1,"pending"),c())}function ps(i,e){if(i&1&&(l(0,"li"),m(1),T(2,ds,2,0,"span",6)(3,us,2,0,"span",7)(4,hs,2,0,"span",8),c()),i&2){let n=e.$implicit;p(),gt(" ",n.filename," "),p(),x(n.status==="SUCCESS"?2:n.status==="ERROR"?3:n.status==="PENDING"?4:-1)}}function fs(i,e){if(i&1&&(l(0,"div",5)(1,"ul"),Le(2,ps,5,2,"li",null,Ue),c()()),i&2){let n=R();p(2),Ge(n.imageQueue)}}var rr=(()=>{class i{_imagesService;_controlContainer;isUploading=!1;formGroup;imageField="images";imageQueue=[];acceptedTypes="image/jpg, image/jpeg, image/png";fileUpload;_files=[];_triggerCount=Ce(0);unsubscribe$=new j;constructor(n,t){this._imagesService=n,this._controlContainer=t,Hn(()=>{let r=this._triggerCount();r>0&&r===this.imageQueue.length&&setTimeout(()=>{this.isUploading=!1,this._imagesService.initiateTrigger(!0)},2e3)})}ngOnInit(){this.formGroup=this._controlContainer.control}onClick(){this.fileUpload&&this.fileUpload.nativeElement.click()}onFileSelected(n){return ge(this,null,function*(){this._files=[];let t=n.target.files;for(let r=0;r<t.length;r++)this._files.push(t[r]);this.isUploading=!0,this._files.map((r,o)=>{this.imageQueue.push({filename:r.name,status:"PENDING"}),this._imagesService.getSignedUrl(r.name).pipe(G(this.unsubscribe$),ie(s=>{throw this.imageQueue[o]={filename:r.name,status:"ERROR"},s})).subscribe(s=>{s.isSuccess&&this._imagesService.putS3Object(s.upload_url,r).subscribe(()=>{this.imageQueue[o]={filename:r.name,status:"SUCCESS"},this._triggerCount.update(a=>a+1)})})})})}validate(n){for(let t of this._files)if(t.name===n.name&&t.lastModified===n.lastModified&&t.size===t.size&&t.type===t.type)return!1;return!0}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(xt),f(Y))};static \u0275cmp=S({type:i,selectors:[["app-image-uploader"]],viewQuery:function(t,r){if(t&1&&kn(cs,5),t&2){let o;jn(o=Un())&&(r.fileUpload=o.first)}},standalone:!0,features:[O],decls:7,vars:4,consts:[["fileUpload",""],[3,"formGroup"],["type","button",1,"action-button",3,"click"],[1,"material-symbols-outlined"],["type","file","multiple","","id","imageField","name","imageField",1,"input_fileupload--hidden",3,"change","accept","formControlName"],[1,"uploader-dialog"],[1,"material-symbols-outlined","success"],[1,"material-symbols-outlined","error"],[1,"material-symbols-outlined","pending"]],template:function(t,r){if(t&1){let o=H();dt(0,1),l(1,"button",2),D("click",function(){return $(o),z(r.onClick())}),l(2,"span",3),m(3,"cloud_upload"),c()(),l(4,"input",4,0),D("change",function(a){return $(o),z(r.onFileSelected(a))}),c(),ut(),T(6,fs,4,0,"div",5)}t&2&&(w("formGroup",r.formGroup),p(4),ft("formControlName",r.imageField),w("accept",r.acceptedTypes),p(2),x(r.isUploading?6:-1))},dependencies:[fe,he,Se,pe,te,Ee],styles:[".input_fileupload--hidden[_ngcontent-%COMP%]{display:none}.uploader-dialog[_ngcontent-%COMP%]{bottom:5%;left:60px;z-index:10;width:240px;padding:8px;min-height:32px;background:#fff;position:absolute;border-radius:10px;box-shadow:#0202024f 0 1px 14px}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;color:#000;list-style-type:none;padding-inline-start:0px}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:24px;padding:4px 0}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;display:inline-block;vertical-align:middle}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.success[_ngcontent-%COMP%]{color:#198754}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.error[_ngcontent-%COMP%]{color:#dc3545}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.pending[_ngcontent-%COMP%]{color:#ffc107}"]})}return i})();var or=(()=>{class i{_authorizeService;displayname="";uploaderForm;unsubscribe$=new j;constructor(n){this._authorizeService=n}ngOnInit(){this.uploaderForm=new ue({images:new W("",[M.required])}),this.displayname=this._authorizeService.getName()}logout(){this._authorizeService.logout().pipe(G(this.unsubscribe$)).subscribe(n=>{n&&location.reload()})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(X))};static \u0275cmp=S({type:i,selectors:[["app-action-sidebar"]],standalone:!0,features:[O],decls:8,vars:1,consts:[[1,"navbar"],[1,"action-wrapper"],[1,"action"],[3,"formGroup"],["type","button",1,"action-button",3,"click"],[1,"material-symbols-outlined"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),dt(3,3),C(4,"app-image-uploader"),ut(),l(5,"button",4),D("click",function(){return r.logout()}),l(6,"span",5),m(7,"logout"),c()()()()()),t&2&&(p(3),w("formGroup",r.uploaderForm))},dependencies:[fe,pe,te,rr],styles:[".navbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background:#06367a;width:60px;height:calc(100vh - 16px);position:fixed;border-radius:14px;align-items:center;opacity:1;box-shadow:#0202024f 7px 5px 6px;border:0px;color:#fff;z-index:10}.navbar[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{padding:70px 0 0}.navbar[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0}.navbar[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:0 0 24px;display:flex;flex-direction:column}"]})}return i})();function ms(i,e){i&1&&C(0,"app-action-sidebar")}function gs(i,e){i&1&&C(0,"app-gallery")}function ys(i,e){if(i&1){let n=H();C(0,"app-login"),l(1,"div",4)(2,"a",5),D("click",function(){$(n);let r=R(2);return z(r.toggleCreateAccount())}),m(3,"Need an account?"),c()()}}function vs(i,e){if(i&1){let n=H();C(0,"app-create-account"),l(1,"div",4)(2,"a",5),D("click",function(){$(n);let r=R(2);return z(r.toggleLogin())}),m(3,"Already have an account?"),c()()}}function _s(i,e){if(i&1){let n=H();C(0,"img",6),l(1,"h1",7),m(2,"All your memories in one place"),c(),l(3,"p",8),m(4,"Free photo storage for everyone."),c(),l(5,"button",9),D("click",function(){$(n);let r=R(2);return z(r.toggleLogin())}),m(6," Start Uploading "),c()}}function Cs(i,e){if(i&1&&(l(0,"app-dialog-box"),C(1,"div",2),l(2,"div",3),T(3,ys,4,0)(4,vs,4,0)(5,_s,7,0),c()()),i&2){let n=R();p(3),x(n.isLoginVisible?3:n.isSignupVisible?4:5)}}var sr=(()=>{class i{_authorize;isLoggedIn=!1;isLoginVisible=!1;isSignupVisible=!1;unsubscribe$=new j;constructor(n){this._authorize=n}ngOnInit(){this._authorize.isAuthenticated().pipe(G(this.unsubscribe$)).subscribe(n=>{this.isLoggedIn=n})}toggleLogin(){this.isSignupVisible=!1,this.isLoginVisible=!this.isLoginVisible}toggleCreateAccount(){this.isLoginVisible=!1,this.isSignupVisible=!this.isSignupVisible}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(X))};static \u0275cmp=S({type:i,selectors:[["app-root"]],standalone:!0,features:[O],decls:5,vars:2,consts:[[1,"main-container"],[1,"content"],[1,"banner"],[1,"container"],[1,"action-container"],["href","javascript:void(0)",3,"click"],["width","124px","src","logo-compact.png","alt","Welcome! Memories On The Go",1,"logo"],[1,"title"],[1,"p1"],["type","button",1,"button","space-mid",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0),T(1,ms,1,0,"app-action-sidebar"),l(2,"div",1),T(3,gs,1,0,"app-gallery")(4,Cs,6,1,"app-dialog-box"),c()()),t&2&&(p(),x(r.isLoggedIn?1:-1),p(2),x(r.isLoggedIn?3:4))},dependencies:[er,nr,Gt,ir,or],styles:[".action-container[_ngcontent-%COMP%]{text-align:center;margin-top:10px}"]})}return i})();vi(sr,Di).catch(i=>console.error(i));
