import{$ as Pn,A as Ne,Aa as Rn,B as S,Ba as kn,C as ye,Ca as m,D as Z,Da as ft,E as Fe,Ea as mt,F as Dn,Fa as gt,G as Mn,Ga as O,H as An,Ha as ee,I as In,Ia as jn,J as Bt,Ja as Un,K as $,Ka as Ln,L as z,La as Gn,M as xn,Ma as Yt,N as $t,Na as Bn,O as zt,Oa as $n,P as Tn,Pa as Ge,Q as Re,Qa as re,R as Sn,Ra as zn,S as Wt,Sa as De,T as On,Ta as Wn,U as ve,Ua as qn,V as Vn,Va as k,W as qt,Wa as yt,X as at,Xa as Hn,Y as ke,Ya as Jn,Z as h,Za as vt,_ as f,_a as _t,a as b,aa as Nn,b as G,ba as lt,ca as Ht,d as Ve,da as Jt,e as Gt,ea as Q,f as j,fa as _e,g as rt,ga as Ce,h as L,ha as x,i as N,ia as w,j as Pe,ja as Xt,k as vn,ka as T,l as ot,la as je,m as _n,ma as Ue,n as ie,na as Le,o as Cn,oa as l,p as bn,pa as c,q as wn,qa as C,r as En,ra as ct,s as B,sa as dt,t as q,ta as H,u as st,ua as D,v as y,va as F,w as ge,wa as ut,x as A,xa as ht,y as p,ya as pt,z as P,za as Fn}from"./chunk-4C7BKXAA.js";var $e=class{},le=class{},J=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let t=n.indexOf(":");if(t>0){let r=n.slice(0,t),o=r.toLowerCase(),a=n.slice(t+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,t)=>{this.setHeaderEntries(t,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,t])=>{this.setHeaderEntries(n,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new i;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...t),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let t=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Zt=class{encodeKey(e){return Xn(e)}encodeValue(e){return Xn(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function or(i,e){let n=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],u=n.get(a)||[];u.push(s),n.set(a,u)}),n}var sr=/%(\d[a-f0-9])/gi,ar={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xn(i){return encodeURIComponent(i).replace(sr,(e,n)=>ar[n]??e)}function Ct(i){return`${i}`}var se=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zt,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=or(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let t=e.fromObject[n],r=Array.isArray(t)?t.map(Ct):[Ct(t)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(t=>{let r=e[t];Array.isArray(r)?r.forEach(o=>{n.push({param:t,value:o,op:"a"})}):n.push({param:t,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(t=>n+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new i({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ct(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],r=t.indexOf(Ct(e.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Qt=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function lr(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yn(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Kn(i){return typeof Blob<"u"&&i instanceof Blob}function Zn(i){return typeof FormData<"u"&&i instanceof FormData}function cr(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Be=class i{constructor(e,n,t,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(lr(this.method)||r?(this.body=t!==void 0?t:null,o=r):o=t,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new J,this.context??=new Qt,!this.params)this.params=new se,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),u=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yn(this.body)||Kn(this.body)||Zn(this.body)||cr(this.body)?this.body:this.body instanceof se?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Zn(this.body)?null:Kn(this.body)?this.body.type||null:Yn(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof se?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,s=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,g=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((I,K)=>I.set(K,e.setHeaders[K]),d)),e.setParams&&(g=Object.keys(e.setParams).reduce((I,K)=>I.set(K,e.setParams[K]),g)),new i(n,t,a,{params:g,headers:d,context:E,reportProgress:u,responseType:r,withCredentials:s,transferCache:o})}},ae=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(ae||{}),ze=class{constructor(e,n=200,t="OK"){this.headers=e.headers||new J,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bt=class i extends ze{constructor(e={}){super(e),this.type=ae.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},We=class i extends ze{constructor(e={}){super(e),this.type=ae.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},oe=class extends ze{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ni=200,dr=204;function Kt(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var be=(()=>{let e=class e{constructor(t){this.handler=t}request(t,r,o={}){let a;if(t instanceof Be)a=t;else{let d;o.headers instanceof J?d=o.headers:d=new J(o.headers);let g;o.params&&(o.params instanceof se?g=o.params:g=new se({fromObject:o.params})),a=new Be(t,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:g,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=L(a).pipe(Cn(d=>this.handler.handle(d)));if(t instanceof Be||o.observe==="events")return s;let u=s.pipe(_n(d=>d instanceof We));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return u.pipe(N(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(N(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(N(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return u.pipe(N(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new se().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Kt(o,r))}post(t,r,o={}){return this.request("POST",t,Kt(o,r))}put(t,r,o={}){return this.request("PUT",t,Kt(o,r))}};e.\u0275fac=function(r){return new(r||e)(p($e))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),ur=/^\)\]\}',?\n/,hr="X-Request-URL";function Qn(i){if(i.url)return i.url;let e=hr.toLocaleLowerCase();return i.headers.get(e)}var pr=(()=>{let e=class e{constructor(){this.fetchImpl=P(en,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=P(Q)}handle(t){return new Gt(r=>{let o=new AbortController;return this.doRequest(t,o.signal,r).then(tn,a=>r.error(new oe({error:a}))),()=>o.abort()})}doRequest(t,r,o){return Ve(this,null,function*(){let a=this.createRequestInit(t),s;try{let U=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,b({signal:r},a)));fr(U),o.next({type:ae.Sent}),s=yield U}catch(U){o.error(new oe({error:U,status:U.status??0,statusText:U.statusText,url:t.urlWithParams,headers:U.headers}));return}let u=new J(s.headers),d=s.statusText,g=Qn(s)??t.urlWithParams,E=s.status,I=null;if(t.reportProgress&&o.next(new bt({headers:u,status:E,statusText:d,url:g})),s.body){let U=s.headers.get("content-length"),Te=[],v=s.body.getReader(),_=0,ne,Ee,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ve(this,null,function*(){for(;;){let{done:me,value:Oe}=yield v.read();if(me)break;if(Te.push(Oe),_+=Oe.length,t.reportProgress){Ee=t.responseType==="text"?(Ee??"")+(ne??=new TextDecoder).decode(Oe,{stream:!0}):void 0;let yn=()=>o.next({type:ae.DownloadProgress,total:U?+U:void 0,loaded:_,partialText:Ee});V?V.run(yn):yn()}}}));let Se=this.concatChunks(Te,_);try{let me=s.headers.get("Content-Type")??"";I=this.parseBody(t,Se,me)}catch(me){o.error(new oe({error:me,headers:new J(s.headers),status:s.status,statusText:s.statusText,url:Qn(s)??t.urlWithParams}));return}}E===0&&(E=I?ni:0),E>=200&&E<300?(o.next(new We({body:I,headers:u,status:E,statusText:d,url:g})),o.complete()):o.error(new oe({error:I,headers:u,status:E,statusText:d,url:g}))})}parseBody(t,r,o){switch(t.responseType){case"json":let a=new TextDecoder().decode(r).replace(ur,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((a,s)=>r[a]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let a=t.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:o}}concatChunks(t,r){let o=new Uint8Array(r),a=0;for(let s of t)o.set(s,a),a+=s.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),en=class{};function tn(){}function fr(i){i.then(tn,tn)}function mr(i,e){return e(i)}function gr(i,e,n){return(t,r)=>In(n,()=>e(t,o=>i(o,r)))}var ii=new A(""),nn=new A(""),yr=new A(""),vr=new A("",{providedIn:"root",factory:()=>!0});var ei=(()=>{let e=class e extends $e{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=P(Tn),this.contributeToStability=P(vr)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nn),...this.injector.get(yr,[])]));this.chain=r.reduceRight((o,a)=>gr(o,a,this.injector),mr)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(bn(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(p(le),p(An))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})();var _r=/^\)\]\}',?\n/;function Cr(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var ti=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?rt(r.\u0275loadImpl()):L(null)).pipe(En(()=>new Gt(a=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,_)=>s.setRequestHeader(v,_.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader("Content-Type",v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let u=t.serializeBody(),d=null,g=()=>{if(d!==null)return d;let v=s.statusText||"OK",_=new J(s.getAllResponseHeaders()),ne=Cr(s)||t.url;return d=new bt({headers:_,status:s.status,statusText:v,url:ne}),d},E=()=>{let{headers:v,status:_,statusText:ne,url:Ee}=g(),V=null;_!==dr&&(V=typeof s.response>"u"?s.responseText:s.response),_===0&&(_=V?ni:0);let Se=_>=200&&_<300;if(t.responseType==="json"&&typeof V=="string"){let me=V;V=V.replace(_r,"");try{V=V!==""?JSON.parse(V):null}catch(Oe){V=me,Se&&(Se=!1,V={error:Oe,text:V})}}Se?(a.next(new We({body:V,headers:v,status:_,statusText:ne,url:Ee||void 0})),a.complete()):a.error(new oe({error:V,headers:v,status:_,statusText:ne,url:Ee||void 0}))},I=v=>{let{url:_}=g(),ne=new oe({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});a.error(ne)},K=!1,U=v=>{K||(a.next(g()),K=!0);let _={type:ae.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),t.responseType==="text"&&s.responseText&&(_.partialText=s.responseText),a.next(_)},Te=v=>{let _={type:ae.UploadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),a.next(_)};return s.addEventListener("load",E),s.addEventListener("error",I),s.addEventListener("timeout",I),s.addEventListener("abort",I),t.reportProgress&&(s.addEventListener("progress",U),u!==null&&s.upload&&s.upload.addEventListener("progress",Te)),s.send(u),a.next({type:ae.Sent}),()=>{s.removeEventListener("error",I),s.removeEventListener("abort",I),s.removeEventListener("load",E),s.removeEventListener("timeout",I),t.reportProgress&&(s.removeEventListener("progress",U),u!==null&&s.upload&&s.upload.removeEventListener("progress",Te)),s.readyState!==s.DONE&&s.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(p(_t))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),ri=new A(""),br="XSRF-TOKEN",wr=new A("",{providedIn:"root",factory:()=>br}),Er="X-XSRF-TOKEN",Dr=new A("",{providedIn:"root",factory:()=>Er}),wt=class{},Mr=(()=>{let e=class e{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yt(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(p(k),p(ve),p(wr))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})();function Ar(i,e){let n=i.url.toLowerCase();if(!P(ri)||i.method==="GET"||i.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(i);let t=P(wt).getToken(),r=P(Dr);return t!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,t)})),e(i)}var oi=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(oi||{});function Ir(i,e){return{\u0275kind:i,\u0275providers:e}}function si(...i){let e=[be,ti,ei,{provide:$e,useExisting:ei},{provide:le,useFactory:()=>P(pr,{optional:!0})??P(ti)},{provide:nn,useValue:Ar,multi:!0},{provide:ri,useValue:!0},{provide:wt,useClass:Mr}];for(let n of i)e.push(...n.\u0275providers);return Fe(e)}function ai(i){return Ir(oi.Interceptors,i.map(e=>({provide:nn,useValue:e,multi:!0})))}var sn=class extends qn{constructor(){super(...arguments),this.supportsDOMEvents=!0}},an=class i extends sn{static makeCurrent(){Wn(new i)}onAndCancel(e,n,t){return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Sr();return n==null?null:Or(n)}resetBaseElement(){qe=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yt(document.cookie,e)}},qe=null;function Sr(){return qe=qe||document.querySelector("base"),qe?qe.getAttribute("href"):null}function Or(i){return new URL(i,document.baseURI).pathname}var Vr=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),Et=new A(""),ui=(()=>{let e=class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(a=>a.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}};e.\u0275fac=function(r){return new(r||e)(p(Et),p(Q))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),He=class{constructor(e){this._doc=e}},rn="ng-app-id",hi=(()=>{let e=class e{constructor(t,r,o,a={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vt(a),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${rn}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){let o=this.styleRef;if(o.has(t)){let a=o.get(t);return a.usage+=r,a.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===t)return o.delete(r),a.removeAttribute(rn),a;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(rn,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let o=this.getStyleElement(t,r),a=this.styleRef,s=a.get(r)?.elements;s?s.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(p(k),p(Wt),p(qt,8),p(ve))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),on={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cn=/%COMP%/g,pi="%COMP%",Pr=`_nghost-${pi}`,Nr=`_ngcontent-${pi}`,Fr=!0,Rr=new A("",{providedIn:"root",factory:()=>Fr});function kr(i){return Nr.replace(cn,i)}function jr(i){return Pr.replace(cn,i)}function fi(i,e){return e.map(n=>n.replace(cn,i))}var Dt=(()=>{let e=class e{constructor(t,r,o,a,s,u,d,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=u,this.ngZone=d,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=vt(u),this.defaultRenderer=new Je(t,s,d,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ne.ShadowDom&&(r=G(b({},r),{encapsulation:Ne.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof Mt?o.applyToHost(t):o instanceof Xe&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let s=this.doc,u=this.ngZone,d=this.eventManager,g=this.sharedStylesHost,E=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(r.encapsulation){case Ne.Emulated:a=new Mt(d,g,r,this.appId,E,s,u,I);break;case Ne.ShadowDom:return new ln(d,g,t,r,s,u,this.nonce,I);default:a=new Xe(d,g,r,E,s,u,I);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(p(ui),p(hi),p(Wt),p(Rr),p(k),p(ve),p(Q),p(qt))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),Je=class{constructor(e,n,t,r){this.eventManager=e,this.doc=n,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(on[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ci(e)?e.content:e).appendChild(n)}insertBefore(e,n,t){e&&(ci(e)?e.content:e).insertBefore(n,t)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new q(-5104,!1);return n||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,t,r){if(r){n=r+":"+n;let o=on[r];o?e.setAttributeNS(o,n,t):e.setAttribute(n,t)}else e.setAttribute(n,t)}removeAttribute(e,n,t){if(t){let r=on[t];r?e.removeAttributeNS(r,n):e.removeAttribute(`${t}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,t,r){r&(ke.DashCase|ke.Important)?e.style.setProperty(n,t,r&ke.Important?"important":""):e.style[n]=t}removeStyle(e,n,t){t&ke.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,t){e!=null&&(e[n]=t)}setValue(e,n){e.nodeValue=n}listen(e,n,t){if(typeof e=="string"&&(e=De().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(t))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ci(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var ln=class extends Je{constructor(e,n,t,r,o,a,s,u){super(e,o,a,u),this.sharedStylesHost=n,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=fi(r.id,r.styles);for(let g of d){let E=document.createElement("style");s&&E.setAttribute("nonce",s),E.textContent=g,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,t){return super.insertBefore(this.nodeOrShadowRoot(e),n,t)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xe=class extends Je{constructor(e,n,t,r,o,a,s,u){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=u?fi(u,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Mt=class extends Xe{constructor(e,n,t,r,o,a,s,u){let d=r+"-"+t.id;super(e,n,t,o,a,s,u,d),this.contentAttr=kr(d),this.hostAttr=jr(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let t=super.createElement(e,n);return super.setAttribute(t,this.contentAttr,""),t}},Ur=(()=>{let e=class e extends He{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(p(k))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),Lr=(()=>{let e=class e extends He{constructor(t){super(t),this.delegate=P($n,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,o){return this.delegate.addEventListener(t,r,o)}removeEventListener(t,r,o){return this.delegate.removeEventListener(t,r,o)}};e.\u0275fac=function(r){return new(r||e)(p(k))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),di=["alt","control","meta","shift"],Gr={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Br={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},$r=(()=>{let e=class e extends He{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>De().onAndCancel(t,a.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),s="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),s="code."),di.forEach(g=>{let E=r.indexOf(g);E>-1&&(r.splice(E,1),s+=g+".")}),s+=a,r.length!=0||a.length===0)return null;let d={};return d.domEventName=o,d.fullKey=s,d}static matchEventFullKeyCode(t,r){let o=Gr[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(o=t.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),di.forEach(s=>{if(s!==o){let u=Br[s];u(t)&&(a+=s+".")}}),a+=o,a===r)}static eventCallback(t,r,o){return a=>{e.matchEventFullKeyCode(a,t)&&o.runGuarded(()=>r(a))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(r){return new(r||e)(p(k))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})();function mi(i,e){return Bn(b({rootComponent:i},zr(e)))}function zr(i){return{appProviders:[...Xr,...i?.providers??[]],platformProviders:Jr}}function Wr(){an.makeCurrent()}function qr(){return new $t}function Hr(){return Sn(document),document}var Jr=[{provide:ve,useValue:Jn},{provide:On,useValue:Wr,multi:!0},{provide:k,useFactory:Hr,deps:[]}];var Xr=[{provide:Mn,useValue:"root"},{provide:$t,useFactory:qr,deps:[]},{provide:Et,useClass:Ur,multi:!0,deps:[k,Q,ve]},{provide:Et,useClass:$r,multi:!0,deps:[k]},{provide:Et,useClass:Lr,multi:!0},Dt,hi,ui,{provide:lt,useExisting:Dt},{provide:_t,useClass:Vr,deps:[]},[]];var Yr="@",Kr=(()=>{let e=class e{constructor(t,r,o,a,s){this.doc=t,this.delegate=r,this.zone=o,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=P(Nn,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-OOSCQ6A2.js").then(r=>r)).catch(r=>{throw new q(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new dn(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let u=s.createRenderer(t,r);a.use(u),this.scheduler?.notify(9)}).catch(s=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Pn()},e.\u0275prov=y({token:e,factory:e.\u0275fac});let i=e;return i})(),dn=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,t,r){this.delegate.insertBefore(e,n,t,r)}removeChild(e,n,t){this.delegate.removeChild(e,n,t)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,t,r){this.delegate.setAttribute(e,n,t,r)}removeAttribute(e,n,t){this.delegate.removeAttribute(e,n,t)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,t,r){this.delegate.setStyle(e,n,t,r)}removeStyle(e,n,t){this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,t)),this.delegate.setProperty(e,n,t)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,t){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,t)),this.delegate.listen(e,n,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(Yr)}};function gi(i="animations"){return Jt("NgAsyncAnimations"),Fe([{provide:lt,useFactory:(e,n,t)=>new Kr(e,n,t,i),deps:[k,Dt,Q]},{provide:Vn,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var un=new A("JWT_OPTIONS"),At=(()=>{class i{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:{t+="==";break}case 3:{t+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}b64decode(n){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,a,s,u=0;s=n.charAt(u++);~s&&(a=o%4?a*64+s:s,o++%4)?r+=String.fromCharCode(255&a>>(-2*o&6)):0)s=t.indexOf(s);return r}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(t=>this._decodeToken(t)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let t=n.split(".");if(t.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let r=this.urlBase64Decode(t[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(t=>this._getTokenExpirationDate(t)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let t;if(t=this.decodeToken(n),!t||!t.hasOwnProperty("exp"))return null;let r=new Date(0);return r.setUTCSeconds(t.exp),r}isTokenExpired(n=this.tokenGetter(),t){return n instanceof Promise?n.then(r=>this._isTokenExpired(r,t)):this._isTokenExpired(n,t)}_isTokenExpired(n,t){if(!n||n==="")return!0;let r=this.getTokenExpirationDate(n);return t=t||0,r===null?!1:!(r.valueOf()>new Date().valueOf()+t*1e3)}getAuthScheme(n,t){return typeof n=="function"?n(t):n}}return i.\u0275fac=function(n){return new(n||i)(p(un))},i.\u0275prov=y({token:i,factory:i.\u0275fac}),i})(),yi=i=>i instanceof Promise?vn(()=>i):L(i),Zr=(()=>{class i{constructor(n,t,r){this.jwtHelper=t,this.document=r,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let t=new URL(n.url,this.document.location.origin);if(t.host===this.document.location.host)return!0;let r=`${t.hostname}${t.port&&!this.standardPorts.includes(t.port)?":"+t.port:""}`;return this.allowedDomains.findIndex(o=>typeof o=="string"?o===r:o instanceof RegExp?o.test(r):!1)>-1}isDisallowedRoute(n){let t=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(r=>{if(typeof r=="string"){let o=new URL(r,this.document.location.origin);return o.hostname===t.hostname&&o.pathname===t.pathname}return r instanceof RegExp?r.test(n.url):!1})>-1}handleInterception(n,t,r){let o=this.jwtHelper.getAuthScheme(this.authScheme,t);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let a=L(!1);return this.skipWhenExpired&&(a=n?yi(this.jwtHelper.isTokenExpired(n)):L(!0)),n?a.pipe(N(s=>s&&this.skipWhenExpired?t.clone():t.clone({setHeaders:{[this.headerName]:`${o}${n}`}})),Pe(s=>r.handle(s))):r.handle(t)}intercept(n,t){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return t.handle(n);let r=this.tokenGetter(n);return yi(r).pipe(Pe(o=>this.handleInterception(o,n,t)))}}return i.\u0275fac=function(n){return new(n||i)(p(un),p(At),p(k))},i.\u0275prov=y({token:i,factory:i.\u0275fac}),i})(),vi=(()=>{class i{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:i,providers:[{provide:ii,useClass:Zr,multi:!0},n.jwtOptionsProvider||{provide:un,useValue:n.config},At]}}}return i.\u0275fac=function(n){return new(n||i)(p(i,12))},i.\u0275mod=ye({type:i}),i.\u0275inj=ge({}),i})();var It=(()=>{class i{_httpBackend;USER_ENDPOINT="https://jl2j5nkkda.execute-api.us-east-1.amazonaws.com/prod/users";httpWithoutInterceptor;constructor(n){this._httpBackend=n,this.httpWithoutInterceptor=new be(n)}performLookup(n){return this.httpWithoutInterceptor.post(`${this.USER_ENDPOINT}/lookup`,n)}createAccount(n){return this.httpWithoutInterceptor.post(`${this.USER_ENDPOINT}/create-account`,n)}login(n){return this.httpWithoutInterceptor.post(`${this.USER_ENDPOINT}/login`,n)}static \u0275fac=function(t){return new(t||i)(p(le))};static \u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xt=(()=>{class i{_httpBackend;_httpClient;IMAGE_ENDPOINT="https://kx2igcenr7.execute-api.us-east-1.amazonaws.com/prod/images";_httpWithoutInterceptor;constructor(n,t){this._httpBackend=n,this._httpClient=t,this._httpWithoutInterceptor=new be(n)}getAllImages(){return this._httpClient.get(`${this.IMAGE_ENDPOINT}/listing`).pipe(N(n=>n?.images))}getSignedUrl(n){return this._httpClient.post(`${this.IMAGE_ENDPOINT}/upload`,{image:n})}getS3Object(n){return this._httpClient.post(`${this.IMAGE_ENDPOINT}/s3-presigned`,n)}putS3Object(n,t){let r=new J({"Content-Type":t.type});return this._httpWithoutInterceptor.put(n,t,{headers:r,reportProgress:!0})}static \u0275fac=function(t){return new(t||i)(p(le),p(be))};static \u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var X=(()=>{class i{_jwtHelper;KEY="bearer_token";constructor(n){this._jwtHelper=n}setBearerToken(n){sessionStorage.setItem(this.KEY,n)}getBearerToken(){return sessionStorage.getItem(this.KEY)??""}getDecodedToken(){let n=sessionStorage.getItem(this.KEY)??"";return this._jwtHelper.decodeToken(n)??{name:"",user_id:""}}isAuthenticated(){let n=sessionStorage.getItem(this.KEY);return L(!this._jwtHelper.isTokenExpired(n))}logout(){try{return sessionStorage.removeItem(this.KEY),L(!0)}catch(n){return console.error(n),L(!1)}}getIdentity(){return this.getDecodedToken().user_id}getName(){return this.getDecodedToken().name}static \u0275fac=function(t){return new(t||i)(p(At))};static \u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function _i(i,e){let n=P(X).getBearerToken(),t=i.clone({setHeaders:{Authorization:`Bearer ${n}`}});return e(t)}function eo(){return sessionStorage.getItem("bearer_token")??""}var Ci={providers:[Gn({eventCoalescing:!0}),gi(),si(ai([_i])),Dn(vi.forRoot({config:{tokenGetter:eo}}))]};var xi=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(f(Ht),f(zt))},e.\u0275dir=Z({type:e});let i=e;return i})(),to=(()=>{let e=class e extends xi{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=xn(e)))(o||e)}})(),e.\u0275dir=Z({type:e,features:[Ce]});let i=e;return i})(),Ti=new A("");var no={provide:Ti,useExisting:st(()=>he),multi:!0};function io(){let i=De()?De().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var ro=new A(""),he=(()=>{let e=class e extends xi{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!io())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(f(Ht),f(zt),f(ro,8))},e.\u0275dir=Z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&D("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[gt([no]),Ce]});let i=e;return i})();function ce(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Si(i){return i!=null&&typeof i.length=="number"}var Oi=new A(""),Vi=new A(""),oo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,M=class{static min(e){return so(e)}static max(e){return ao(e)}static required(e){return lo(e)}static requiredTrue(e){return co(e)}static email(e){return uo(e)}static minLength(e){return ho(e)}static maxLength(e){return po(e)}static pattern(e){return fo(e)}static nullValidator(e){return Pi(e)}static compose(e){return Ui(e)}static composeAsync(e){return Gi(e)}};function so(i){return e=>{if(ce(e.value)||ce(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function ao(i){return e=>{if(ce(e.value)||ce(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function lo(i){return ce(i.value)?{required:!0}:null}function co(i){return i.value===!0?null:{required:!0}}function uo(i){return ce(i.value)||oo.test(i.value)?null:{email:!0}}function ho(i){return e=>ce(e.value)||!Si(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function po(i){return e=>Si(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function fo(i){if(!i)return Pi;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(ce(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Pi(i){return null}function Ni(i){return i!=null}function Fi(i){return Ln(i)?rt(i):i}function Ri(i){let e={};return i.forEach(n=>{e=n!=null?b(b({},e),n):e}),Object.keys(e).length===0?null:e}function ki(i,e){return e.map(n=>n(i))}function mo(i){return!i.validate}function ji(i){return i.map(e=>mo(e)?e:n=>e.validate(n))}function Ui(i){if(!i)return null;let e=i.filter(Ni);return e.length==0?null:function(n){return Ri(ki(n,e))}}function Li(i){return i!=null?Ui(ji(i)):null}function Gi(i){if(!i)return null;let e=i.filter(Ni);return e.length==0?null:function(n){let t=ki(n,e).map(Fi);return ot(t).pipe(N(Ri))}}function Bi(i){return i!=null?Gi(ji(i)):null}function bi(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function $i(i){return i._rawValidators}function zi(i){return i._rawAsyncValidators}function hn(i){return i?Array.isArray(i)?i:[i]:[]}function St(i,e){return Array.isArray(i)?i.includes(e):i===e}function wi(i,e){let n=hn(e);return hn(i).forEach(r=>{St(n,r)||n.push(r)}),n}function Ei(i,e){return hn(e).filter(n=>!St(i,n))}var Ot=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Li(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Y=class extends Ot{get formDirective(){return null}get path(){return null}},et=class extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Vt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},go={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hl=G(b({},go),{"[class.ng-submitted]":"isSubmitted"}),xe=(()=>{let e=class e extends Vt{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(f(et,2))},e.\u0275dir=Z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ce]});let i=e;return i})(),pe=(()=>{let e=class e extends Vt{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(f(Y,10))},e.\u0275dir=Z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ce]});let i=e;return i})();var Ye="VALID",Tt="INVALID",Ae="PENDING",Ke="DISABLED",de=class{},Pt=class extends de{constructor(e,n){super(),this.value=e,this.source=n}},Ze=class extends de{constructor(e,n){super(),this.pristine=e,this.source=n}},Qe=class extends de{constructor(e,n){super(),this.touched=e,this.source=n}},Ie=class extends de{constructor(e,n){super(),this.status=e,this.source=n}},pn=class extends de{constructor(e){super(),this.source=e}},fn=class extends de{constructor(e){super(),this.source=e}};function Wi(i){return(kt(i)?i.validators:i)||null}function yo(i){return Array.isArray(i)?Li(i):i||null}function qi(i,e){return(kt(e)?e.asyncValidators:i)||null}function vo(i){return Array.isArray(i)?Bi(i):i||null}function kt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function _o(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new q(1e3,"");if(!t[n])throw new q(1001,"")}function Co(i,e,n){i._forEachChild((t,r)=>{if(n[r]===void 0)throw new q(1002,"")})}var Nt=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ge(()=>this.statusReactive()),this.statusReactive=_e(void 0),this._pristine=Ge(()=>this.pristineReactive()),this.pristineReactive=_e(!0),this._touched=Ge(()=>this.touchedReactive()),this.touchedReactive=_e(!1),this._events=new j,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return re(this.statusReactive)}set status(e){re(()=>this.statusReactive.set(e))}get valid(){return this.status===Ye}get invalid(){return this.status===Tt}get pending(){return this.status==Ae}get disabled(){return this.status===Ke}get enabled(){return this.status!==Ke}get pristine(){return re(this.pristineReactive)}set pristine(e){re(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return re(this.touchedReactive)}set touched(e){re(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ei(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ei(e,this._rawAsyncValidators))}hasValidator(e){return St(this._rawValidators,e)}hasAsyncValidator(e){return St(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(G(b({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new Qe(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),n&&e.emitEvent!==!1&&this._events.next(new Qe(!1,t))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(G(b({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new Ze(!1,t))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&e.emitEvent!==!1&&this._events.next(new Ze(!0,t))}markAsPending(e={}){this.status=Ae;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ie(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(G(b({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ke,this.errors=null,this._forEachChild(r=>{r.disable(G(b({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pt(this.value,t)),this._events.next(new Ie(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ye,this._forEachChild(t=>{t.enable(G(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ye||this.status===Ae)&&this._runAsyncValidator(t,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pt(this.value,n)),this._events.next(new Ie(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(G(b({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ke:Ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let t=Fi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,r)=>t&&t._find(r),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Ie(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,t)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Ke:this.errors?Tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(Tt)?Tt:Ye}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Ze(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Qe(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yo(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=vo(this._rawAsyncValidators)}},ue=class extends Nt{constructor(e,n,t){super(Wi(n),qi(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Co(this,!0,e),Object.keys(e).forEach(t=>{_o(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((r,o)=>{t=n(t,r,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hi=new A("CallSetDisabledState",{providedIn:"root",factory:()=>mn}),mn="always";function bo(i,e){return[...e.path,i]}function Di(i,e,n=mn){gn(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Eo(i,e),Mo(i,e),Do(i,e),wo(i,e)}function Mi(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Rt(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Ft(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wo(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function gn(i,e){let n=$i(i);e.validator!==null?i.setValidators(bi(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=zi(i);e.asyncValidator!==null?i.setAsyncValidators(bi(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let r=()=>i.updateValueAndValidity();Ft(e._rawValidators,r),Ft(e._rawAsyncValidators,r)}function Rt(i,e){let n=!1;if(i!==null){if(e.validator!==null){let r=$i(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==e.validator);o.length!==r.length&&(n=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let r=zi(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==e.asyncValidator);o.length!==r.length&&(n=!0,i.setAsyncValidators(o))}}}let t=()=>{};return Ft(e._rawValidators,t),Ft(e._rawAsyncValidators,t),n}function Eo(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Ji(i,e)})}function Do(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Ji(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Ji(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Mo(i,e){let n=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function Ao(i,e){i==null,gn(i,e)}function Io(i,e){return Rt(i,e)}function xo(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function To(i){return Object.getPrototypeOf(i.constructor)===to}function So(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Oo(i,e){if(!e)return null;Array.isArray(e);let n,t,r;return e.forEach(o=>{o.constructor===he?n=o:To(o)?t=o:r=o}),r||t||n||null}function Vo(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Ai(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Ii(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var W=class extends Nt{constructor(e=null,n,t){super(Wi(n),qi(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kt(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ii(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ai(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ai(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ii(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Po=i=>i instanceof W;var jt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var Xi=new A("");var No={provide:Y,useExisting:st(()=>te)},te=(()=>{let e=class e extends Y{get submitted(){return re(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=Ge(()=>this._submittedReactive()),this._submittedReactive=_e(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Di(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Mi(t.control||null,t,!1),Vo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),So(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new pn(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new fn(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(Mi(r||null,t),Po(o)&&(Di(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Ao(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Io(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gn(this.form,this),this._oldForm&&Rt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(f(Oi,10),f(Vi,10),f(Hi,8))},e.\u0275dir=Z({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&D("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([No]),Ce,Bt]});let i=e;return i})();var Fo={provide:et,useExisting:st(()=>we)},we=(()=>{let e=class e extends et{set isDisabled(t){}constructor(t,r,o,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Oo(this,a)}ngOnChanges(t){this._added||this._setUpControl(),xo(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bo(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(f(Y,13),f(Oi,10),f(Vi,10),f(Ti,10),f(Xi,8))},e.\u0275dir=Z({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[gt([Fo]),Ce,Bt]});let i=e;return i})();var Ro=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ge({});let i=e;return i})();var fe=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Xi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Hi,useValue:t.callSetDisabledState??mn}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ge({imports:[Ro]});let i=e;return i})();var ko=["*"];function jo(i,e){i&1&&(l(0,"em"),m(1,"*"),c())}function Uo(i,e){if(i&1&&(l(0,"label",1),x(1,jo,2,0,"em"),m(2),c()),i&2){let n=F();pt("for",n.fieldName),h(),T(n.isRequired?1:-1),h(),mt(" ",n.label," ")}}function Lo(i,e){if(i&1&&(l(0,"div",3)(1,"p",4),m(2),jn(3,"async"),c()()),i&2){let n=F();h(2),ft(Un(3,1,n.error$))}}var Ut=(()=>{class i{_cd;_controlContainer;label="";fieldName="";isRequired=!1;errors;error$;_formGroup;_formControl;constructor(n,t){this._cd=n,this._controlContainer=t}ngAfterViewInit(){this._controlContainer&&this.fieldName&&(this._formGroup=this._controlContainer?.control,this._formControl=this._formGroup.controls[this.fieldName],this._formControl&&(this.error$=this._formControl?.statusChanges.pipe(wn(this._formControl.status),Pe((n,t)=>{let r="";return this.errors&&Object.keys(this.errors).forEach(o=>{this._formControl.errors&&this._formControl.errors[o]&&(r=this.errors[o])}),L(r)})))),this._cd.detectChanges()}get showError(){return this._formControl?this._formControl.touched||this._formControl.dirty:!0}static \u0275fac=function(t){return new(t||i)(f(Yt),f(Y,8))};static \u0275cmp=S({type:i,selectors:[["app-extended-field"]],inputs:{label:"label",fieldName:"fieldName",isRequired:"isRequired",errors:"errors"},standalone:!0,features:[O],ngContentSelectors:ko,decls:5,vars:2,consts:[[1,"extended-field"],[3,"for"],[1,"field-wrapper"],[1,"error-wrapper"],[1,"p2"]],template:function(t,r){t&1&&(ut(),l(0,"div",0),x(1,Uo,3,3,"label",1),l(2,"div",2),ht(3),c(),x(4,Lo,4,3,"div",3),c()),t&2&&(h(),T(r.label?1:-1),h(3),T(r.showError?4:-1))},dependencies:[Hn],styles:[".extended-field[_ngcontent-%COMP%]{min-height:50px;margin-bottom:4px}.extended-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#676262;font-size:12px;font-weight:500;line-height:16px}.extended-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#e10000;font-weight:700}.extended-field[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .p2[_ngcontent-%COMP%]{color:#e10000;font-weight:500}"]})}return i})();var Go=()=>({required:"Username is required",invalidData:"Invalid Username provided.",minlength:"Username at least 6 character long."}),Bo=()=>({required:"Password is required",invalidData:"Invalid Password provided.",minlength:"Password at least 6 character long."});function $o(i,e){i&1&&(l(0,"span"),m(1,"Logging In"),c())}function zo(i,e){i&1&&(l(0,"span"),m(1,"Log In"),c())}var Yi=(()=>{class i{_userService;_authorizeService;isLogging=!1;loginForm;unsubscribe$=new j;constructor(n,t){this._userService=n,this._authorizeService=t}ngOnInit(){this.loginForm=new ue({username:new W("",[M.required,M.minLength(6)]),password:new W("",[M.required,M.minLength(6)])})}requestLogin(){this.loginForm.valid&&(this.isLogging=!0,this._userService.login(this.loginForm.value).pipe(B(this.unsubscribe$),ie(n=>{throw this.loginForm.get(n.error.field)?.setErrors({invalidData:!0}),this.isLogging=!1,n})).subscribe(n=>{this._authorizeService.setBearerToken(n.access_token),location.reload()}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(It),f(X))};static \u0275cmp=S({type:i,selectors:[["app-login"]],standalone:!0,features:[O],decls:11,vars:7,consts:[[3,"formGroup"],[1,"login-container"],[1,"title"],["fieldName","username",3,"errors"],["type","text","formControlName","username","placeholder","Username",1,"form-control"],["fieldName","password",3,"errors"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"button","space-mid",3,"click","disabled"]],template:function(t,r){t&1&&(l(0,"form",0)(1,"div",1)(2,"h1",2),m(3,"Log In"),c(),l(4,"app-extended-field",3),C(5,"input",4),c(),l(6,"app-extended-field",5),C(7,"input",6),c(),l(8,"button",7),D("click",function(){return r.requestLogin()}),x(9,$o,2,0,"span")(10,zo,2,0,"span"),c()()()),t&2&&(w("formGroup",r.loginForm),h(4),w("errors",ee(5,Go)),h(2),w("errors",ee(6,Bo)),h(2),w("disabled",r.loginForm.invalid||r.isLogging),h(),T(r.isLogging?9:10))},dependencies:[fe,jt,he,xe,pe,te,we,Ut],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.login-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:35px;margin:0 auto}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:306px}"]})}return i})();var Ki=(()=>{class i{image;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-image-viewer"]],inputs:{image:"image"},standalone:!0,features:[O],decls:1,vars:2,consts:[["loading","lazy",1,"thumbnail",3,"src","alt"]],template:function(t,r){t&1&&C(0,"img",0),t&2&&w("src",r.image.thumbnail_image,at)("alt",r.image.s3_key)},styles:[".thumbnail[_ngcontent-%COMP%]{height:172px;cursor:pointer;border-radius:5px;aspect-ratio:auto;transition:.5s ease;box-shadow:0 0 25px #000000cf}"]})}return i})();var Wo=["*"],Lt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-dialog-box"]],standalone:!0,features:[O],ngContentSelectors:Wo,decls:2,vars:0,consts:[[1,"card"]],template:function(t,r){t&1&&(ut(),l(0,"div",0),ht(1),c())},styles:[".card[_ngcontent-%COMP%]{top:10%;height:620px;width:480px;z-index:10;margin:0 auto;background:#fff;position:relative;border-radius:10px;box-shadow:#0202024f 0 1px 14px}"]})}return i})();function qo(i,e){if(i&1){let n=H();l(0,"li",3),D("click",function(){let r=$(n).$implicit,o=F(2);return z(o.imageViewer(r))}),C(1,"app-image-viewer",4),c()}if(i&2){let n=e.$implicit;h(),w("image",n)}}function Ho(i,e){if(i&1&&(l(0,"p",1),m(1),c(),l(2,"ul",2),Ue(3,qo,2,1,"li",null,je),c()),i&2){let n=e.$implicit;h(),ft(n.create_year),h(2),Le(n.images)}}function Jo(i,e){if(i&1){let n=H();l(0,"div",7)(1,"span",10),D("click",function(){$(n);let r=F(2);return z(r.switchImage("PREV"))}),m(2," arrow_back_ios "),c()()}}function Xo(i,e){if(i&1){let n=H();l(0,"div",9)(1,"span",10),D("click",function(){$(n);let r=F(2);return z(r.switchImage("NEXT"))}),m(2," arrow_forward_ios "),c()()}}function Yo(i,e){if(i&1){let n=H();l(0,"app-dialog-box")(1,"div",5)(2,"span",6),D("click",function(){$(n);let r=F();return z(r.closeViewer())}),m(3," arrow_back "),c(),x(4,Jo,3,0,"div",7),C(5,"img",8),x(6,Xo,3,0,"div",9),c()()}if(i&2){let n=F();h(4),T(n.prevImageIndex>-1?4:-1),h(),w("src",n.viewerObject.original_image,at)("alt",n.viewerObject.s3_key),h(),T(n.nextImageIndex>-1?6:-1)}}var Zi=(()=>{class i{_imageService;nextImageIndex;prevImageIndex;viewerObject;isImageViewerActive=!1;imagesGroupArray=[];_imagesArray=[];unsubscribe$=new j;constructor(n){this._imageService=n}ngOnInit(){this._imageService.getAllImages().pipe(B(this.unsubscribe$),ie(n=>{throw this._imagesArray=[],this.imagesGroupArray=[],n})).subscribe(n=>{let t=n.map(r=>this._imageService.getS3Object({s3_key:r.s3_key,s3_key_thumbnail:r.s3_key_thumbnail}).pipe(N(o=>b(b({},r),o))));ot(t).subscribe(r=>{this._imagesArray=[...r],this._groupByCreatedYear()})})}imageViewer(n){if(this._imagesArray.length){let t=this._imagesArray.findIndex(r=>r.image_id===n.image_id);t===0?(this.nextImageIndex=t+1,this.prevImageIndex=-1):t===this._imagesArray.length-1?(this.nextImageIndex=-1,this.prevImageIndex=t-1):(this.nextImageIndex=t+1,this.prevImageIndex=t-1),this.viewerObject=b({},n),this.isImageViewerActive=!0}}switchImage(n){switch(n){case"PREV":this.viewerObject=b({},this._imagesArray[this.prevImageIndex]),this.prevImageIndex=this.prevImageIndex===0?-1:this.prevImageIndex-1,this.nextImageIndex=this.prevImageIndex+2;break;case"NEXT":this.viewerObject=b({},this._imagesArray[this.nextImageIndex]),this.nextImageIndex=this.nextImageIndex<this._imagesArray.length-1?this.nextImageIndex+1:-1,this.prevImageIndex=this.nextImageIndex===-1?this._imagesArray.length-2:this.nextImageIndex-2;break}}closeViewer(){this.isImageViewerActive=!1}_groupByCreatedYear(){let n={};for(let t of this._imagesArray){let r=new Date(t.created_at).getFullYear().toString();n[r]?n[r].images.push(t):n[r]={create_year:r,images:[t]}}this.imagesGroupArray=Object.values(n)}static \u0275fac=function(t){return new(t||i)(f(xt))};static \u0275cmp=S({type:i,selectors:[["app-gallery"]],standalone:!0,features:[O],decls:4,vars:1,consts:[[1,"image-container","custom-scrollbar"],[1,"liner"],[1,"thumbnail-list"],[3,"click"],[3,"image"],[1,"viewer-container"],[1,"back","material-symbols-outlined",3,"click"],[1,"prev-button-wrapper"],[1,"fullSize",3,"src","alt"],[1,"next-button-wrapper"],[1,"material-symbols-outlined",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0),Ue(1,Ho,5,1,null,null,je),c(),x(3,Yo,7,4,"app-dialog-box")),t&2&&(h(),Le(r.imagesGroupArray),h(2),T(r.isImageViewerActive?3:-1))},dependencies:[Ki,Lt],styles:['[_nghost-%COMP%]  .card{top:0!important;width:100%!important;height:100%!important}.image-container[_ngcontent-%COMP%]{height:calc(100vh - 18px);width:calc(100vw - 96px);padding:4px 8px 0;position:absolute;overflow:hidden;overflow-y:auto;left:80px}.image-container.custom-scrollbar[_ngcontent-%COMP%]{scrollbar-width:thin;transition:scrollbar-color .3s;scrollbar-color:transparent transparent}.image-container.custom-scrollbar[_ngcontent-%COMP%]:hover{scrollbar-color:#ababab transparent}.liner[_ngcontent-%COMP%]{display:flex;text-align:left;font-size:16px;font-weight:500;align-items:flex-start}.liner[_ngcontent-%COMP%]:after{content:"";flex-grow:1;height:1px;background:#c9c0bf;min-width:20px;margin:auto}.liner[_ngcontent-%COMP%]:after{margin-left:10px}.thumbnail-list[_ngcontent-%COMP%]{gap:12px;display:flex;flex-wrap:wrap;list-style:none;flex-direction:row;padding-inline-start:16px}.viewer-container[_ngcontent-%COMP%]{padding:8px;width:calc(100% - 16px);height:calc(100% - 16px)}.viewer-container[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{z-index:1;cursor:pointer;margin-left:65px;position:absolute}.viewer-container[_ngcontent-%COMP%]   .prev-button-wrapper[_ngcontent-%COMP%]{top:0;left:0;width:60px;height:100%;color:#fff;position:absolute;align-content:center;background:#000;border-radius:10px 0 0 10px;background:linear-gradient(90deg,#00000045,#fff 79%)}.viewer-container[_ngcontent-%COMP%]   .prev-button-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;margin-left:14px}.viewer-container[_ngcontent-%COMP%]   .next-button-wrapper[_ngcontent-%COMP%]{top:0;right:0;width:60px;height:100%;color:#fff;position:absolute;align-content:center;background:#000;border-radius:0 10px 10px;background:linear-gradient(270deg,#00000045,#fff 79%)}.viewer-container[_ngcontent-%COMP%]   .next-button-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;margin-left:28px}.viewer-container[_ngcontent-%COMP%]   .fullSize[_ngcontent-%COMP%]{width:98%;height:100%;object-fit:contain}']})}return i})();var nt=class{static validateUsername(e){return n=>e.performLookup({key:"username",value:n.value.replace(/ /g,"")}).pipe(N(t=>t.lookupFlag?{usernameExists:!0}:null))}static validatePhonenumber(e){return n=>e.performLookup({key:"phone_number",value:n.value.replace(/ /g,"")}).pipe(N(t=>t.lookupFlag?{phonenumberExists:!0}:null))}};var it=class{static validate(e,n){return t=>{if(t.parent&&n){let r=(t.parent?.controls)[e];return r&&r.updateValueAndValidity(),null}return t.parent&&t.parent.value&&t.value===(t.parent?.controls)[e].value?null:{PasswordNotMatch:!0}}}};var Ko=()=>({required:"Full Name is required",minlength:"Username at least 6 character long."}),Zo=()=>({required:"Phone Number is required",phonenumberExists:"Phone Number already in use.",pattern:"Phone Number contain invalid character."}),Qo=()=>({required:"Username is required",usernameExists:"Username already in use.",minlength:"Username at least 6 character long."}),es=()=>({required:"Password is required",minlength:"Password at least 6 character long.",pattern:"Only uppercase, lowercase and digits are allowed."}),ts=()=>({required:"Confirm Password is required",minlength:"Confirm Password at least 6 character long.",PasswordNotMatch:"Entered passowrd not matched."});function ns(i,e){i&1&&(l(0,"span"),m(1,"Creating Account"),c())}function is(i,e){i&1&&(l(0,"span"),m(1,"Create Account"),c())}var Qi=(()=>{class i{_userService;_authorizeService;isReqesting=!1;createAccoutnForm;unsubscribe$=new j;StrongPasswordRegx=/^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\D*\d).{6,}$/;constructor(n,t){this._userService=n,this._authorizeService=t}ngOnInit(){this.createAccoutnForm=new ue({name:new W("",[M.required,M.minLength(6)]),phone_number:new W("",[M.required,M.minLength(11),M.pattern("^[0-9]{5}[ 0-9]{6}$")],[nt.validatePhonenumber(this._userService)]),username:new W("",[M.required,M.minLength(6)],[nt.validateUsername(this._userService)]),password:new W("",[M.required,M.minLength(6),M.pattern(this.StrongPasswordRegx),it.validate("confirm_password",!0)]),confirm_password:new W("",[M.required,it.validate("password")])})}createAccount(){this.createAccoutnForm.valid&&(this.isReqesting=!0,this._userService.createAccount(this.createAccoutnForm.value).pipe(B(this.unsubscribe$),ie(n=>{throw this.isReqesting=!1,n})).subscribe(n=>{this._authorizeService.setBearerToken(n.access_token),location.reload()}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(It),f(X))};static \u0275cmp=S({type:i,selectors:[["app-create-account"]],standalone:!0,features:[O],decls:18,vars:13,consts:[[3,"formGroup"],[1,"signup-container"],["width","124px","src","logo-compact.png","alt","Welcome! Memories On The Go",1,"logo"],[1,"title"],["fieldName","name",3,"errors"],["type","text","formControlName","name","placeholder","Full Name",1,"form-control"],["fieldName","phone_number",3,"errors"],["type","text","formControlName","phone_number","placeholder","Phone Number",1,"form-control"],["fieldName","username",3,"errors"],["type","text","autocomplete","new-username","formControlName","username","placeholder","Username",1,"form-control"],["fieldName","password",3,"errors"],["type","password","autocomplete","new-password","formControlName","password","placeholder","Password",1,"form-control"],["fieldName","confirm_password",3,"errors"],["type","password","formControlName","confirm_password","placeholder","Confirm Password",1,"form-control"],["type","submit",1,"button","space-mid",3,"click","disabled"]],template:function(t,r){t&1&&(l(0,"form",0)(1,"div",1),C(2,"img",2),l(3,"h1",3),m(4,"Create an Account"),c(),l(5,"app-extended-field",4),C(6,"input",5),c(),l(7,"app-extended-field",6),C(8,"input",7),c(),l(9,"app-extended-field",8),C(10,"input",9),c(),l(11,"app-extended-field",10),C(12,"input",11),c(),l(13,"app-extended-field",12),C(14,"input",13),c(),l(15,"button",14),D("click",function(){return r.createAccount()}),x(16,ns,2,0,"span")(17,is,2,0,"span"),c()()()),t&2&&(w("formGroup",r.createAccoutnForm),h(5),w("errors",ee(8,Ko)),h(2),w("errors",ee(9,Zo)),h(2),w("errors",ee(10,Qo)),h(2),w("errors",ee(11,es)),h(2),w("errors",ee(12,ts)),h(2),w("disabled",r.createAccoutnForm.invalid||r.isReqesting),h(),T(r.isReqesting?16:17))},dependencies:[fe,jt,he,xe,pe,te,we,Ut],styles:[".banner{display:none}  .container{height:100%}.signup-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.signup-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:35px;margin:0 auto}.signup-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:306px}"]})}return i})();var rs=["fileUpload"];function os(i,e){i&1&&(l(0,"span",6),m(1,"check_circle"),c())}function ss(i,e){i&1&&(l(0,"span",7),m(1,"cancel"),c())}function as(i,e){i&1&&(l(0,"span",8),m(1,"pending"),c())}function ls(i,e){if(i&1&&(l(0,"li"),m(1),x(2,os,2,0,"span",6)(3,ss,2,0,"span",7)(4,as,2,0,"span",8),c()),i&2){let n=e.$implicit;h(),mt(" ",n.filename," "),h(),T(n.status==="SUCCESS"?2:n.status==="ERROR"?3:n.status==="PENDING"?4:-1)}}function cs(i,e){if(i&1&&(l(0,"div",5)(1,"ul"),Ue(2,ls,5,2,"li",null,je),c()()),i&2){let n=F();h(2),Le(n.imageQueue)}}var er=(()=>{class i{_imagesService;_controlContainer;isUploading=!1;formGroup;imageField="images";imageQueue=[];acceptedTypes="image/jpg, image/jpeg, image/png";fileUpload;_files=[];_triggerCount=_e(0);unsubscribe$=new j;constructor(n,t){this._imagesService=n,this._controlContainer=t,zn(()=>{let r=this._triggerCount();r>0&&r===this.imageQueue.length&&setTimeout(()=>{this.isUploading=!1},2e3)})}ngOnInit(){this.formGroup=this._controlContainer.control}onClick(){this.fileUpload&&this.fileUpload.nativeElement.click()}onFileSelected(n){return Ve(this,null,function*(){this._files=[];let t=n.target.files;for(let r=0;r<t.length;r++)this._files.push(t[r]);this.isUploading=!0,this._files.map((r,o)=>{this.imageQueue.push({filename:r.name,status:"PENDING"}),this._imagesService.getSignedUrl(r.name).pipe(B(this.unsubscribe$),ie(a=>{throw this.imageQueue[o]={filename:r.name,status:"ERROR"},a})).subscribe(a=>{a.isSuccess&&this._imagesService.putS3Object(a.upload_url,r).subscribe(()=>{this.imageQueue[o]={filename:r.name,status:"SUCCESS"},this._triggerCount.update(s=>s+1)})})})})}validate(n){for(let t of this._files)if(t.name===n.name&&t.lastModified===n.lastModified&&t.size===t.size&&t.type===t.type)return!1;return!0}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(xt),f(Y))};static \u0275cmp=S({type:i,selectors:[["app-image-uploader"]],viewQuery:function(t,r){if(t&1&&Fn(rs,5),t&2){let o;Rn(o=kn())&&(r.fileUpload=o.first)}},standalone:!0,features:[O],decls:7,vars:4,consts:[["fileUpload",""],[3,"formGroup"],["type","button",1,"action-button",3,"click"],[1,"material-symbols-outlined"],["type","file","multiple","","id","imageField","name","imageField",1,"input_fileupload--hidden",3,"change","accept","formControlName"],[1,"uploader-dialog"],[1,"material-symbols-outlined","success"],[1,"material-symbols-outlined","error"],[1,"material-symbols-outlined","pending"]],template:function(t,r){if(t&1){let o=H();ct(0,1),l(1,"button",2),D("click",function(){return $(o),z(r.onClick())}),l(2,"span",3),m(3,"cloud_upload"),c()(),l(4,"input",4,0),D("change",function(s){return $(o),z(r.onFileSelected(s))}),c(),dt(),x(6,cs,4,0,"div",5)}t&2&&(w("formGroup",r.formGroup),h(4),pt("formControlName",r.imageField),w("accept",r.acceptedTypes),h(2),T(r.isUploading?6:-1))},dependencies:[fe,he,xe,pe,te,we],styles:[".input_fileupload--hidden[_ngcontent-%COMP%]{display:none}.uploader-dialog[_ngcontent-%COMP%]{bottom:5%;left:60px;z-index:10;width:240px;padding:8px;min-height:32px;background:#fff;position:absolute;border-radius:10px;box-shadow:#0202024f 0 1px 14px}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;color:#000;list-style-type:none;padding-inline-start:0px}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:24px;padding:4px 0}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;display:inline-block;vertical-align:middle}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.success[_ngcontent-%COMP%]{color:#198754}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.error[_ngcontent-%COMP%]{color:#dc3545}.uploader-dialog[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.pending[_ngcontent-%COMP%]{color:#ffc107}"]})}return i})();var tr=(()=>{class i{_authorizeService;displayname="";uploaderForm;unsubscribe$=new j;constructor(n){this._authorizeService=n}ngOnInit(){this.uploaderForm=new ue({images:new W("",[M.required])}),this.displayname=this._authorizeService.getName()}logout(){this._authorizeService.logout().pipe(B(this.unsubscribe$)).subscribe(n=>{n&&location.reload()})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(X))};static \u0275cmp=S({type:i,selectors:[["app-action-sidebar"]],standalone:!0,features:[O],decls:8,vars:1,consts:[[1,"navbar"],[1,"action-wrapper"],[1,"action"],[3,"formGroup"],["type","button",1,"action-button",3,"click"],[1,"material-symbols-outlined"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),ct(3,3),C(4,"app-image-uploader"),dt(),l(5,"button",4),D("click",function(){return r.logout()}),l(6,"span",5),m(7,"logout"),c()()()()()),t&2&&(h(3),w("formGroup",r.uploaderForm))},dependencies:[fe,pe,te,er],styles:[".navbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background:#06367a;width:60px;height:calc(100vh - 16px);position:fixed;border-radius:14px;align-items:center;opacity:1;box-shadow:#0202024f 7px 5px 6px;border:0px;color:#fff;z-index:10}.navbar[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{padding:70px 0 0}.navbar[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0}.navbar[_ngcontent-%COMP%]   .action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:0 0 24px;display:flex;flex-direction:column}"]})}return i})();function ds(i,e){i&1&&C(0,"app-action-sidebar")}function us(i,e){i&1&&C(0,"app-gallery")}function hs(i,e){if(i&1){let n=H();C(0,"app-login"),l(1,"div",4)(2,"a",5),D("click",function(){$(n);let r=F(2);return z(r.toggleCreateAccount())}),m(3,"Need an account?"),c()()}}function ps(i,e){if(i&1){let n=H();C(0,"app-create-account"),l(1,"div",4)(2,"a",5),D("click",function(){$(n);let r=F(2);return z(r.toggleLogin())}),m(3,"Already have an account?"),c()()}}function fs(i,e){if(i&1){let n=H();C(0,"img",6),l(1,"h1",7),m(2,"All your memories in one place"),c(),l(3,"p",8),m(4,"Free photo storage for everyone."),c(),l(5,"button",9),D("click",function(){$(n);let r=F(2);return z(r.toggleLogin())}),m(6," Start Uploading "),c()}}function ms(i,e){if(i&1&&(l(0,"app-dialog-box"),C(1,"div",2),l(2,"div",3),x(3,hs,4,0)(4,ps,4,0)(5,fs,7,0),c()()),i&2){let n=F();h(3),T(n.isLoginVisible?3:n.isSignupVisible?4:5)}}var nr=(()=>{class i{_authorize;isLoggedIn=!1;isLoginVisible=!1;isSignupVisible=!1;unsubscribe$=new j;constructor(n){this._authorize=n}ngOnInit(){this._authorize.isAuthenticated().pipe(B(this.unsubscribe$)).subscribe(n=>{this.isLoggedIn=n})}toggleLogin(){this.isSignupVisible=!1,this.isLoginVisible=!this.isLoginVisible}toggleCreateAccount(){this.isLoginVisible=!1,this.isSignupVisible=!this.isSignupVisible}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static \u0275fac=function(t){return new(t||i)(f(X))};static \u0275cmp=S({type:i,selectors:[["app-root"]],standalone:!0,features:[O],decls:5,vars:2,consts:[[1,"main-container"],[1,"content"],[1,"banner"],[1,"container"],[1,"action-container"],["href","javascript:void(0)",3,"click"],["width","124px","src","logo-compact.png","alt","Welcome! Memories On The Go",1,"logo"],[1,"title"],[1,"p1"],["type","button",1,"button","space-mid",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0),x(1,ds,1,0,"app-action-sidebar"),l(2,"div",1),x(3,us,1,0,"app-gallery")(4,ms,6,1,"app-dialog-box"),c()()),t&2&&(h(),T(r.isLoggedIn?1:-1),h(2),T(r.isLoggedIn?3:4))},dependencies:[Yi,Zi,Lt,Qi,tr],styles:[".action-container[_ngcontent-%COMP%]{text-align:center;margin-top:10px}"]})}return i})();mi(nr,Ci).catch(i=>console.error(i));
